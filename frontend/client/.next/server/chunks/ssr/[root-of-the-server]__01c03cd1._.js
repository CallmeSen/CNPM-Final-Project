module.exports=[14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},51234,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"HandleISRError",{enumerable:!0,get:function(){return e}});let d=a.r(56704).workAsyncStorage;function e(a){let{error:b}=a;if(d){let a=d.getStore();if((null==a?void 0:a.isRevalidate)||(null==a?void 0:a.isStaticGeneration))throw console.error(b),b}return null}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},40622,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return g}});let d=a.r(87924),e=a.r(51234),f={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},text:{fontSize:"14px",fontWeight:400,lineHeight:"28px",margin:"0 8px"}},g=function(a){let{error:b}=a,c=null==b?void 0:b.digest;return(0,d.jsxs)("html",{id:"__next_error__",children:[(0,d.jsx)("head",{}),(0,d.jsxs)("body",{children:[(0,d.jsx)(e.HandleISRError,{error:b}),(0,d.jsx)("div",{style:f.error,children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("h2",{style:f.text,children:["Application error: a ",c?"server":"client","-side exception has occurred while loading ",window.location.hostname," (see the"," ",c?"server logs":"browser console"," for more information)."]}),c?(0,d.jsx)("p",{style:f.text,children:"Digest: "+c}):null]})})]})]})};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},88531,a=>{"use strict";a.s(["Link",()=>f,"useNavigate",()=>g,"useParams",()=>h]);var b=a.i(87924),c=a.i(38246),d=a.i(72131),e=a.i(50944);let f=({to:a,...d})=>(0,b.jsx)(c.default,{href:a,...d}),g=()=>{let a=(0,e.useRouter)();return(0,d.useCallback)((b,c)=>{if("number"==typeof b)return void(b<0?a.back():a.refresh());c?.replace?a.replace(b,{scroll:c.scroll}):a.push(b,{scroll:c?.scroll})},[a])},h=()=>(0,e.useParams)()},42343,a=>{"use strict";a.s(["GenIcon",()=>i],42343);var b=a.i(72131),c={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},d=b.default.createContext&&b.default.createContext(c),e=["attr","size","title"];function f(){return(f=Object.assign.bind()).apply(this,arguments)}function g(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function h(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?g(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):g(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function i(a){return c=>b.default.createElement(j,f({attr:h({},a.attr)},c),function a(c){return c&&c.map((c,d)=>b.default.createElement(c.tag,h({key:d},c.attr),a(c.child)))}(a.child))}function j(a){var g=c=>{var d,{attr:g,size:i,title:j}=a,k=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,e),l=i||c.size||"1em";return c.className&&(d=c.className),a.className&&(d=(d?d+" ":"")+a.className),b.default.createElement("svg",f({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},c.attr,g,k,{className:d,style:h(h({color:a.color||c.color},c.style),a.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),j&&b.default.createElement("title",null,j),a.children)};return void 0!==d?b.default.createElement(d.Consumer,null,a=>g(a)):g(c)}},87186,a=>{a.v({actionsRow:"customerOrders-module__qrRL2a__actionsRow",backButton:"customerOrders-module__qrRL2a__backButton",cardBody:"customerOrders-module__qrRL2a__cardBody",cardFooter:"customerOrders-module__qrRL2a__cardFooter",cardHeader:"customerOrders-module__qrRL2a__cardHeader",cardMeta:"customerOrders-module__qrRL2a__cardMeta",cardTitle:"customerOrders-module__qrRL2a__cardTitle",content:"customerOrders-module__qrRL2a__content",detailHeader:"customerOrders-module__qrRL2a__detailHeader",detailId:"customerOrders-module__qrRL2a__detailId",detailTitleBlock:"customerOrders-module__qrRL2a__detailTitleBlock",emptyState:"customerOrders-module__qrRL2a__emptyState",emptyTitle:"customerOrders-module__qrRL2a__emptyTitle",errorBanner:"customerOrders-module__qrRL2a__errorBanner",infoCard:"customerOrders-module__qrRL2a__infoCard",infoGrid:"customerOrders-module__qrRL2a__infoGrid",infoLabel:"customerOrders-module__qrRL2a__infoLabel",infoValue:"customerOrders-module__qrRL2a__infoValue",itemsTable:"customerOrders-module__qrRL2a__itemsTable",loading:"customerOrders-module__qrRL2a__loading",metaBlock:"customerOrders-module__qrRL2a__metaBlock",metaLabel:"customerOrders-module__qrRL2a__metaLabel",muted:"customerOrders-module__qrRL2a__muted",orderCard:"customerOrders-module__qrRL2a__orderCard",ordersList:"customerOrders-module__qrRL2a__ordersList",page:"customerOrders-module__qrRL2a__page",pillGroup:"customerOrders-module__qrRL2a__pillGroup",priceEmphasis:"customerOrders-module__qrRL2a__priceEmphasis",primaryButton:"customerOrders-module__qrRL2a__primaryButton",searchIcon:"customerOrders-module__qrRL2a__searchIcon",searchInput:"customerOrders-module__qrRL2a__searchInput",searchWrapper:"customerOrders-module__qrRL2a__searchWrapper",section:"customerOrders-module__qrRL2a__section",sectionFooter:"customerOrders-module__qrRL2a__sectionFooter",sectionTitle:"customerOrders-module__qrRL2a__sectionTitle",statusCanceled:"customerOrders-module__qrRL2a__statusCanceled",statusChip:"customerOrders-module__qrRL2a__statusChip",statusConfirmed:"customerOrders-module__qrRL2a__statusConfirmed",statusDefault:"customerOrders-module__qrRL2a__statusDefault",statusDelivered:"customerOrders-module__qrRL2a__statusDelivered",statusOutForDelivery:"customerOrders-module__qrRL2a__statusOutForDelivery",statusPending:"customerOrders-module__qrRL2a__statusPending",statusPreparing:"customerOrders-module__qrRL2a__statusPreparing",subtitle:"customerOrders-module__qrRL2a__subtitle",summaryBadge:"customerOrders-module__qrRL2a__summaryBadge",summaryRow:"customerOrders-module__qrRL2a__summaryRow",title:"customerOrders-module__qrRL2a__title",titleGroup:"customerOrders-module__qrRL2a__titleGroup",total:"customerOrders-module__qrRL2a__total",twoColumn:"customerOrders-module__qrRL2a__twoColumn"})},57002,a=>{"use strict";a.s(["default",()=>m]);var b=a.i(87924),c=a.i(72131),d=a.i(88531),e=a.i(71682),f=a.i(83490),g=a.i(87186);let h=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),i=a=>null==a||Number.isNaN(Number(a))?h.format(0):h.format(Number(a)),j=a=>{if(!a)return"Not available";try{return new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(new Date(a))}catch(b){return console.error("Failed to format date",b),a}},k={pending:g.default.statusPending,confirmed:g.default.statusConfirmed,preparing:g.default.statusPreparing,"out for delivery":g.default.statusOutForDelivery,delivered:g.default.statusDelivered,canceled:g.default.statusCanceled},l={paid:g.default.statusDelivered,pending:g.default.statusPending,failed:g.default.statusCanceled,refunded:g.default.statusConfirmed},m=()=>{let{id:a}=(0,d.useParams)(),h=(0,d.useNavigate)(),[m,n]=(0,c.useState)(null),[o,p]=(0,c.useState)(!0),[q,r]=(0,c.useState)("");(0,c.useEffect)(()=>{(async()=>{if(!a){r("We could not find that order. Please try again."),p(!1);return}try{let b=localStorage.getItem("token");if(!b)return void h("/auth/login");let c=await f.default.get(`http://localhost:5005/api/orders/${a}`,{headers:{Authorization:`Bearer ${b}`}});n(c.data)}catch(a){console.error("Failed to load order",a),f.default.isAxiosError(a)?r(a.response?.data?.message??"We could not load this order. Please try again later."):r("Something went wrong while loading the order. Please try again.")}finally{p(!1)}})()},[a,h]);let s=(0,c.useMemo)(()=>m?.items?.length?m.items.reduce((a,b)=>a+(Number(b.price)||0)*(b.quantity??0),0):0,[m]),t=(0,c.useMemo)(()=>m?.items?.reduce((a,b)=>a+(b.quantity??0),0)??0,[m]),u=()=>{h(-1)},v=()=>{h("/")},w=m?._id??a??"";return(0,b.jsx)("div",{className:g.default.page,children:(0,b.jsxs)("div",{className:g.default.content,children:[(0,b.jsxs)("div",{className:g.default.detailHeader,children:[(0,b.jsxs)("button",{type:"button",onClick:u,className:g.default.backButton,"aria-label":"Back to previous page",children:[(0,b.jsx)(e.FaArrowLeft,{}),(0,b.jsx)("span",{children:"Back"})]}),(0,b.jsxs)("div",{className:g.default.detailTitleBlock,children:[(0,b.jsx)("h1",{className:g.default.title,children:"Order Details"}),(0,b.jsxs)("span",{className:g.default.detailId,children:["Order #",w.slice(-8).toUpperCase()]}),(0,b.jsxs)("div",{className:g.default.pillGroup,children:[(0,b.jsx)("span",{className:`${g.default.statusChip} ${(a=>a?k[a.toLowerCase()]??g.default.statusDefault:g.default.statusDefault)(m?.status)}`,children:m?.status??"Pending"}),m?.paymentStatus&&(0,b.jsx)("span",{className:`${g.default.statusChip} ${(a=>a?l[a.toLowerCase()]??g.default.statusDefault:g.default.statusDefault)(m.paymentStatus)}`,children:m.paymentStatus})]})]}),(0,b.jsx)("div",{className:g.default.actionsRow,children:(0,b.jsxs)("button",{type:"button",onClick:v,className:g.default.primaryButton,children:[(0,b.jsx)(e.FaHome,{}),"Back to home"]})})]}),o?(0,b.jsx)("div",{className:g.default.loading,children:"Loading order details..."}):q?(0,b.jsxs)("div",{className:g.default.emptyState,children:[(0,b.jsx)("p",{className:g.default.emptyTitle,children:"Something went wrong"}),(0,b.jsx)("p",{children:q}),(0,b.jsxs)("div",{className:g.default.actionsRow,children:[(0,b.jsx)("button",{type:"button",onClick:u,className:g.default.primaryButton,children:"Try again"}),(0,b.jsx)("button",{type:"button",onClick:v,className:g.default.backButton,children:"Back home"})]})]}):m?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:g.default.infoGrid,children:[(0,b.jsxs)("div",{className:g.default.infoCard,children:[(0,b.jsx)("span",{className:g.default.infoLabel,children:"Order placed"}),(0,b.jsx)("span",{className:g.default.infoValue,children:j(m.createdAt)})]}),(0,b.jsxs)("div",{className:g.default.infoCard,children:[(0,b.jsx)("span",{className:g.default.infoLabel,children:"Last updated"}),(0,b.jsx)("span",{className:g.default.infoValue,children:j(m.updatedAt??m.createdAt)})]}),(0,b.jsxs)("div",{className:g.default.infoCard,children:[(0,b.jsx)("span",{className:g.default.infoLabel,children:"Restaurant"}),(0,b.jsx)("span",{className:g.default.infoValue,children:m.restaurantId||"Not specified"})]}),(0,b.jsxs)("div",{className:g.default.infoCard,children:[(0,b.jsx)("span",{className:g.default.infoLabel,children:"Delivery address"}),(0,b.jsx)("span",{className:g.default.infoValue,children:m.deliveryAddress||"Not provided"})]})]}),(0,b.jsxs)("section",{className:g.default.section,children:[(0,b.jsxs)("header",{children:[(0,b.jsx)("h2",{className:g.default.sectionTitle,children:"Order items"}),(0,b.jsx)("p",{className:g.default.muted,children:m.items?.length?`${m.items.length} unique item${m.items.length>1?"s":""} - ${t} total`:"No items recorded for this order."})]}),m.items?.length?(0,b.jsxs)("table",{className:g.default.itemsTable,children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Item"}),(0,b.jsx)("th",{children:"Quantity"}),(0,b.jsx)("th",{children:"Price"}),(0,b.jsx)("th",{children:"Subtotal"})]})}),(0,b.jsx)("tbody",{children:m.items.map((a,c)=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:a.foodId||"Item"}),(0,b.jsx)("td",{children:a.quantity??0}),(0,b.jsx)("td",{children:i(a.price)}),(0,b.jsx)("td",{children:i(a.price*a.quantity)})]},`${m._id}-item-${c}`))})]}):null,(0,b.jsxs)("div",{className:g.default.sectionFooter,children:[(0,b.jsx)("span",{className:g.default.muted,children:"Item total"}),(0,b.jsx)("span",{className:g.default.priceEmphasis,children:i(s)})]})]}),(0,b.jsxs)("section",{className:g.default.section,children:[(0,b.jsxs)("header",{children:[(0,b.jsx)("h2",{className:g.default.sectionTitle,children:"Delivery & payment"}),(0,b.jsx)("p",{className:g.default.muted,children:"Keep an eye on this space for live delivery updates."})]}),(0,b.jsxs)("div",{className:g.default.twoColumn,children:[(0,b.jsxs)("div",{className:g.default.metaBlock,children:[(0,b.jsx)("strong",{children:"Delivery address"}),(0,b.jsx)("span",{children:m.deliveryAddress||"Not provided"})]}),(0,b.jsxs)("div",{className:g.default.metaBlock,children:[(0,b.jsx)("strong",{children:"Payment status"}),(0,b.jsx)("span",{children:m.paymentStatus??"Pending"})]}),(0,b.jsxs)("div",{className:g.default.metaBlock,children:[(0,b.jsx)("strong",{children:"Payment method"}),(0,b.jsx)("span",{children:m.paymentMethod??"Not specified"})]}),(0,b.jsxs)("div",{className:g.default.metaBlock,children:[(0,b.jsx)("strong",{children:"Payment reference"}),(0,b.jsx)("span",{children:m.paymentIntentId??"Not provided"})]})]})]}),(0,b.jsxs)("section",{className:g.default.section,children:[(0,b.jsxs)("header",{children:[(0,b.jsx)("h2",{className:g.default.sectionTitle,children:"Total due"}),(0,b.jsx)("p",{className:g.default.muted,children:"The amount charged includes all taxes and delivery fees (if applicable)."})]}),(0,b.jsxs)("div",{className:g.default.sectionFooter,children:[(0,b.jsx)("span",{className:g.default.muted,children:"Grand total"}),(0,b.jsx)("span",{className:g.default.priceEmphasis,children:i(m.totalPrice)})]})]})]}):(0,b.jsxs)("div",{className:g.default.emptyState,children:[(0,b.jsx)("p",{className:g.default.emptyTitle,children:"Order not found"}),(0,b.jsx)("p",{children:"We could not find details for this order. It may have been removed or you might not have access to it."}),(0,b.jsx)("button",{type:"button",onClick:u,className:g.default.primaryButton,children:"View order history"})]})]})})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__01c03cd1._.js.map