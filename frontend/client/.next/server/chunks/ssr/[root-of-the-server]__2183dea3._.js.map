{"version":3,"sources":["turbopack:///[project]/src/app/styles/customerProfile.module.css [app-ssr] (css module)","turbopack:///[project]/src/app/pages/auth/CustomerProfile.tsx"],"sourcesContent":["__turbopack_context__.v({\n  \"card\": \"customerProfile-module__o-lgTq__card\",\n  \"cardFooter\": \"customerProfile-module__o-lgTq__cardFooter\",\n  \"cardHeader\": \"customerProfile-module__o-lgTq__cardHeader\",\n  \"detailLabel\": \"customerProfile-module__o-lgTq__detailLabel\",\n  \"detailRow\": \"customerProfile-module__o-lgTq__detailRow\",\n  \"detailValue\": \"customerProfile-module__o-lgTq__detailValue\",\n  \"details\": \"customerProfile-module__o-lgTq__details\",\n  \"hero\": \"customerProfile-module__o-lgTq__hero\",\n  \"heroDot\": \"customerProfile-module__o-lgTq__heroDot\",\n  \"heroItem\": \"customerProfile-module__o-lgTq__heroItem\",\n  \"heroList\": \"customerProfile-module__o-lgTq__heroList\",\n  \"heroSubtitle\": \"customerProfile-module__o-lgTq__heroSubtitle\",\n  \"heroTitle\": \"customerProfile-module__o-lgTq__heroTitle\",\n  \"layout\": \"customerProfile-module__o-lgTq__layout\",\n  \"page\": \"customerProfile-module__o-lgTq__page\",\n  \"spin\": \"customerProfile-module__o-lgTq__spin\",\n  \"spinner\": \"customerProfile-module__o-lgTq__spinner\",\n  \"statusCard\": \"customerProfile-module__o-lgTq__statusCard\",\n  \"statusCardError\": \"customerProfile-module__o-lgTq__statusCardError\",\n  \"statusText\": \"customerProfile-module__o-lgTq__statusText\",\n  \"statusTitle\": \"customerProfile-module__o-lgTq__statusTitle\",\n  \"wrapper\": \"customerProfile-module__o-lgTq__wrapper\",\n});\n","\"use client\";\r\n\r\nimport { useEffect, useMemo, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Header from \"../../components/Header\";\r\nimport Footer from \"../../components/Footer\";\r\nimport styles from \"../../styles/customerProfile.module.css\";\r\nimport { buildAuthServiceUrl } from \"../../../config/api\";\r\n\r\ntype Customer = {\r\n  firstName: string;\r\n  email: string;\r\n  phone: string;\r\n  location?: string;\r\n};\r\n\r\nconst CustomerProfile = () => {\r\n  const [profile, setProfile] = useState<Customer | null>(null);\r\n  const [error, setError] = useState(\"\");\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const token = useMemo(() => {\r\n    if (typeof window === \"undefined\") {\r\n      return null;\r\n    }\r\n    return localStorage.getItem(\"token\");\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchProfile = async () => {\r\n      if (!token) {\r\n        setError(\"Please login to view your profile.\");\r\n        setLoading(false);\r\n        return;\r\n      }\r\n\r\n      try {\r\n        const res = await axios.get(\r\n          buildAuthServiceUrl(\"/api/auth/customer/profile\"),\r\n          {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          },\r\n        );\r\n        setProfile(res.data.data.customer);\r\n      } catch (err) {\r\n        console.error(\"Could not fetch profile\", err);\r\n        setError(\"Could not fetch profile. Please try again.\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchProfile();\r\n  }, [token]);\r\n\r\n  const renderContent = () => {\r\n    if (loading) {\r\n      return (\r\n        <section className={styles.statusCard} aria-live=\"polite\">\r\n          <div className={styles.spinner} aria-hidden=\"true\" />\r\n          <h2 className={styles.statusTitle}>Loading profile</h2>\r\n          <p className={styles.statusText}>Fetching your latest account details.</p>\r\n        </section>\r\n      );\r\n    }\r\n\r\n    if (error) {\r\n      return (\r\n        <section className={`${styles.statusCard} ${styles.statusCardError}`} role=\"alert\">\r\n          <h2 className={styles.statusTitle}>Something went wrong</h2>\r\n          <p className={styles.statusText}>{error}</p>\r\n        </section>\r\n      );\r\n    }\r\n\r\n    if (!profile) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className={styles.layout}>\r\n        <aside className={styles.hero}>\r\n          <div>\r\n            <h1 className={styles.heroTitle}>Hello, {profile.firstName}</h1>\r\n            <p className={styles.heroSubtitle}>\r\n              This dashboard keeps your account details in one place so you can manage deliveries, track orders, and update\r\n              preferences whenever you need.\r\n            </p>\r\n\r\n            <ul className={styles.heroList}>\r\n              <li className={styles.heroItem}>\r\n                <span className={styles.heroDot} aria-hidden=\"true\">\r\n                  •\r\n                </span>\r\n                Real-time updates on your orders\r\n              </li>\r\n              <li className={styles.heroItem}>\r\n                <span className={styles.heroDot} aria-hidden=\"true\">\r\n                  •\r\n                </span>\r\n                Save favourite addresses for faster checkout\r\n              </li>\r\n              <li className={styles.heroItem}>\r\n                <span className={styles.heroDot} aria-hidden=\"true\">\r\n                  •\r\n                </span>\r\n                Earn rewards every time you order\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </aside>\r\n\r\n        <section className={styles.card}>\r\n          <header className={styles.cardHeader}>\r\n            <div>\r\n              <h2>Account Overview</h2>\r\n              <p>Review and confirm your contact information below.</p>\r\n            </div>\r\n          </header>\r\n\r\n          <div className={styles.details}>\r\n            <div className={styles.detailRow}>\r\n              <span className={styles.detailLabel}>Email address</span>\r\n              <span className={styles.detailValue}>{profile.email}</span>\r\n            </div>\r\n            <div className={styles.detailRow}>\r\n              <span className={styles.detailLabel}>Phone number</span>\r\n              <span className={styles.detailValue}>{profile.phone}</span>\r\n            </div>\r\n            <div className={styles.detailRow}>\r\n              <span className={styles.detailLabel}>Preferred location</span>\r\n              <span className={styles.detailValue}>\r\n                {profile.location && profile.location.trim() !== \"\" ? profile.location : \"Not set yet\"}\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          <footer className={styles.cardFooter}>\r\n            <p>\r\n              Need to make changes? Reach out to our support team or head to settings once profile editing is available.\r\n            </p>\r\n          </footer>\r\n        </section>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className={styles.page}>\r\n      <Header />\r\n      <main className={styles.wrapper}>{renderContent()}</main>\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CustomerProfile;\r\n"],"names":[],"mappings":"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"}