module.exports=[14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},58072,a=>{a.v({card:"customerProfile-module__o-lgTq__card",cardFooter:"customerProfile-module__o-lgTq__cardFooter",cardHeader:"customerProfile-module__o-lgTq__cardHeader",detailLabel:"customerProfile-module__o-lgTq__detailLabel",detailRow:"customerProfile-module__o-lgTq__detailRow",detailValue:"customerProfile-module__o-lgTq__detailValue",details:"customerProfile-module__o-lgTq__details",hero:"customerProfile-module__o-lgTq__hero",heroDot:"customerProfile-module__o-lgTq__heroDot",heroItem:"customerProfile-module__o-lgTq__heroItem",heroList:"customerProfile-module__o-lgTq__heroList",heroSubtitle:"customerProfile-module__o-lgTq__heroSubtitle",heroTitle:"customerProfile-module__o-lgTq__heroTitle",layout:"customerProfile-module__o-lgTq__layout",page:"customerProfile-module__o-lgTq__page",spin:"customerProfile-module__o-lgTq__spin",spinner:"customerProfile-module__o-lgTq__spinner",statusCard:"customerProfile-module__o-lgTq__statusCard",statusCardError:"customerProfile-module__o-lgTq__statusCardError",statusText:"customerProfile-module__o-lgTq__statusText",statusTitle:"customerProfile-module__o-lgTq__statusTitle",wrapper:"customerProfile-module__o-lgTq__wrapper"})},61722,a=>{"use strict";a.s(["default",()=>i]);var b=a.i(87924),c=a.i(72131),d=a.i(83490),e=a.i(8226),f=a.i(1453),g=a.i(58072),h=a.i(50407);let i=()=>{let[a,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)(!0),n=(0,c.useMemo)(()=>null,[]);return(0,c.useEffect)(()=>{(async()=>{if(!n){k("Please login to view your profile."),m(!1);return}try{let a=await d.default.get((0,h.buildAuthServiceUrl)("/api/auth/customer/profile"),{headers:{Authorization:`Bearer ${n}`}});i(a.data.data.customer)}catch(a){console.error("Could not fetch profile",a),k("Could not fetch profile. Please try again.")}finally{m(!1)}})()},[n]),(0,b.jsxs)("div",{className:g.default.page,children:[(0,b.jsx)(e.default,{}),(0,b.jsx)("main",{className:g.default.wrapper,children:l?(0,b.jsxs)("section",{className:g.default.statusCard,"aria-live":"polite",children:[(0,b.jsx)("div",{className:g.default.spinner,"aria-hidden":"true"}),(0,b.jsx)("h2",{className:g.default.statusTitle,children:"Loading profile"}),(0,b.jsx)("p",{className:g.default.statusText,children:"Fetching your latest account details."})]}):j?(0,b.jsxs)("section",{className:`${g.default.statusCard} ${g.default.statusCardError}`,role:"alert",children:[(0,b.jsx)("h2",{className:g.default.statusTitle,children:"Something went wrong"}),(0,b.jsx)("p",{className:g.default.statusText,children:j})]}):a?(0,b.jsxs)("div",{className:g.default.layout,children:[(0,b.jsx)("aside",{className:g.default.hero,children:(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{className:g.default.heroTitle,children:["Hello, ",a.firstName]}),(0,b.jsx)("p",{className:g.default.heroSubtitle,children:"This dashboard keeps your account details in one place so you can manage deliveries, track orders, and update preferences whenever you need."}),(0,b.jsxs)("ul",{className:g.default.heroList,children:[(0,b.jsxs)("li",{className:g.default.heroItem,children:[(0,b.jsx)("span",{className:g.default.heroDot,"aria-hidden":"true",children:"•"}),"Real-time updates on your orders"]}),(0,b.jsxs)("li",{className:g.default.heroItem,children:[(0,b.jsx)("span",{className:g.default.heroDot,"aria-hidden":"true",children:"•"}),"Save favourite addresses for faster checkout"]}),(0,b.jsxs)("li",{className:g.default.heroItem,children:[(0,b.jsx)("span",{className:g.default.heroDot,"aria-hidden":"true",children:"•"}),"Earn rewards every time you order"]})]})]})}),(0,b.jsxs)("section",{className:g.default.card,children:[(0,b.jsx)("header",{className:g.default.cardHeader,children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{children:"Account Overview"}),(0,b.jsx)("p",{children:"Review and confirm your contact information below."})]})}),(0,b.jsxs)("div",{className:g.default.details,children:[(0,b.jsxs)("div",{className:g.default.detailRow,children:[(0,b.jsx)("span",{className:g.default.detailLabel,children:"Email address"}),(0,b.jsx)("span",{className:g.default.detailValue,children:a.email})]}),(0,b.jsxs)("div",{className:g.default.detailRow,children:[(0,b.jsx)("span",{className:g.default.detailLabel,children:"Phone number"}),(0,b.jsx)("span",{className:g.default.detailValue,children:a.phone})]}),(0,b.jsxs)("div",{className:g.default.detailRow,children:[(0,b.jsx)("span",{className:g.default.detailLabel,children:"Preferred location"}),(0,b.jsx)("span",{className:g.default.detailValue,children:a.location&&""!==a.location.trim()?a.location:"Not set yet"})]})]}),(0,b.jsx)("footer",{className:g.default.cardFooter,children:(0,b.jsx)("p",{children:"Need to make changes? Reach out to our support team or head to settings once profile editing is available."})})]})]}):null}),(0,b.jsx)(f.default,{})]})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__2183dea3._.js.map