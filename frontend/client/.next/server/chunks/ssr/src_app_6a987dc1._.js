module.exports=[77533,a=>{a.v({card:"customerHome-module__hko35G__card",cardBody:"customerHome-module__hko35G__cardBody",cardFooter:"customerHome-module__hko35G__cardFooter",cardImage:"customerHome-module__hko35G__cardImage",cardMeta:"customerHome-module__hko35G__cardMeta",cardTitle:"customerHome-module__hko35G__cardTitle",ctaLink:"customerHome-module__hko35G__ctaLink",emptyState:"customerHome-module__hko35G__emptyState",emptySubtitle:"customerHome-module__hko35G__emptySubtitle",emptyTitle:"customerHome-module__hko35G__emptyTitle",errorState:"customerHome-module__hko35G__errorState",grid:"customerHome-module__hko35G__grid",hero:"customerHome-module__hko35G__hero",heroContent:"customerHome-module__hko35G__heroContent",heroEyebrow:"customerHome-module__hko35G__heroEyebrow",heroHighlights:"customerHome-module__hko35G__heroHighlights",heroSubtitle:"customerHome-module__hko35G__heroSubtitle",heroTitle:"customerHome-module__hko35G__heroTitle",highlightCaption:"customerHome-module__hko35G__highlightCaption",highlightCard:"customerHome-module__hko35G__highlightCard",highlightValue:"customerHome-module__hko35G__highlightValue",loadingState:"customerHome-module__hko35G__loadingState",main:"customerHome-module__hko35G__main",metaLabel:"customerHome-module__hko35G__metaLabel",page:"customerHome-module__hko35G__page",results:"customerHome-module__hko35G__results",resultsCount:"customerHome-module__hko35G__resultsCount",resultsHeader:"customerHome-module__hko35G__resultsHeader",resultsTitle:"customerHome-module__hko35G__resultsTitle",searchBar:"customerHome-module__hko35G__searchBar",searchButton:"customerHome-module__hko35G__searchButton",searchInput:"customerHome-module__hko35G__searchInput",shimmer:"customerHome-module__hko35G__shimmer",skeletonCard:"customerHome-module__hko35G__skeletonCard",skeletonGrid:"customerHome-module__hko35G__skeletonGrid",tryAgainButton:"customerHome-module__hko35G__tryAgainButton"})},97446,a=>{"use strict";a.s(["default",()=>k]);var b=a.i(87924),c=a.i(72131),d=a.i(88531),e=a.i(71682),f=a.i(8226),g=a.i(1453),h=a.i(50407),i=a.i(77533);let j="https://via.placeholder.com/320x200?text=Restaurant",k=()=>{let a=(0,d.useNavigate)(),[k,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(""),[o,p]=(0,c.useState)(""),[q,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(!0),u=(0,c.useCallback)(async()=>{t(!0),p(""),r("");try{let a=await fetch((0,h.buildRestaurantServiceUrl)("/api/restaurant/all")),b=await a.json();if(!a.ok){let a="string"==typeof b?.message&&b.message||"We could not fetch restaurants right now.";throw Error(a)}let c=(Array.isArray(b)?b:Array.isArray(b?.restaurants)?b.restaurants:[]).map(a=>(a=>{if(!a)return null;let b="string"==typeof a.id&&a.id.trim()||"string"==typeof a._id&&a._id.trim(),c="string"==typeof a.name&&a.name.trim()||"string"==typeof a.restName&&a.restName.trim()||"";if(!b||!c)return null;let d="string"==typeof a.location&&a.location.trim()||"string"==typeof a.address&&a.address.trim()||"",e="string"==typeof a.contactNumber&&a.contactNumber.trim()||"string"==typeof a.contact&&a.contact.trim()||"string"==typeof a.phone&&a.phone.trim()||"";return{id:b,name:c,location:d,contactNumber:e,profilePicture:"string"==typeof a.profilePicture&&a.profilePicture.trim()||"string"==typeof a.image&&a.image.trim()||void 0}})(a)).filter(a=>!!a);l(c),0===c.length&&r("No restaurants are available right now. Please check back shortly.")}catch(a){console.error("Failed to load restaurants",a),p(a instanceof Error?a.message:"Something went wrong while loading restaurants.")}finally{t(!1)}},[]);(0,c.useEffect)(()=>{u()},[u]);let v=(0,c.useMemo)(()=>{let a=m.trim().toLowerCase();return a?k.filter(b=>{let c=b.name.toLowerCase().includes(a),d=b.location.toLowerCase().includes(a);return c||d}):k},[k,m]),w=(0,c.useMemo)(()=>{let a=new Set;return k.forEach(b=>{b.location&&a.add(b.location.toLowerCase())}),a.size},[k]),x=b=>{a(`/customer/restaurant/${b}/foods`)},y=a=>{a.currentTarget.src=j},z=!s&&!o&&0===k.length,A=!s&&!o&&k.length>0&&0===v.length;return(0,b.jsxs)("div",{className:i.default.page,children:[(0,b.jsx)(f.default,{}),(0,b.jsxs)("main",{className:i.default.main,children:[(0,b.jsxs)("section",{className:i.default.hero,children:[(0,b.jsxs)("div",{className:i.default.heroContent,children:[(0,b.jsx)("span",{className:i.default.heroEyebrow,children:"Discover and order"}),(0,b.jsx)("h1",{className:i.default.heroTitle,children:"Find something delicious near you"}),(0,b.jsx)("p",{className:i.default.heroSubtitle,children:"Explore curated restaurants across the city and build your next order in just a few taps."}),(0,b.jsxs)("form",{className:i.default.searchBar,onSubmit:a=>{a.preventDefault()},children:[(0,b.jsx)(e.FaSearch,{size:18,color:"#2563eb","aria-hidden":"true"}),(0,b.jsx)("input",{type:"search",value:m,onChange:a=>n(a.target.value),className:i.default.searchInput,placeholder:"Search by restaurant name or neighborhood","aria-label":"Search restaurants"}),(0,b.jsx)("button",{type:"submit",className:i.default.searchButton,children:"Search"})]})]}),(0,b.jsxs)("div",{className:i.default.heroHighlights,children:[(0,b.jsxs)("div",{className:i.default.highlightCard,children:[(0,b.jsx)("span",{className:i.default.highlightValue,children:k.length}),(0,b.jsx)("span",{className:i.default.highlightCaption,children:"restaurants ready to serve you"})]}),(0,b.jsxs)("div",{className:i.default.highlightCard,children:[(0,b.jsx)("span",{className:i.default.highlightValue,children:w}),(0,b.jsx)("span",{className:i.default.highlightCaption,children:"neighborhoods covered today"})]})]})]}),(0,b.jsxs)("section",{className:i.default.results,children:[(0,b.jsxs)("div",{className:i.default.resultsHeader,children:[(0,b.jsx)("h2",{className:i.default.resultsTitle,children:"Featured restaurants"}),(0,b.jsx)("span",{className:i.default.resultsCount,children:s?"Loading...":`${v.length} option${1===v.length?"":"s"} available`})]}),s?(0,b.jsx)("div",{className:i.default.skeletonGrid,children:Array.from({length:6}).map((a,c)=>(0,b.jsx)("div",{className:i.default.skeletonCard},`skeleton-${c}`))}):o?(0,b.jsxs)("div",{className:i.default.errorState,children:[(0,b.jsx)("p",{className:i.default.emptyTitle,children:"We hit a snag"}),(0,b.jsx)("p",{className:i.default.emptySubtitle,children:o}),(0,b.jsx)("button",{type:"button",className:i.default.tryAgainButton,onClick:()=>u(),children:"Try again"})]}):z?(0,b.jsxs)("div",{className:i.default.emptyState,children:[(0,b.jsx)("p",{className:i.default.emptyTitle,children:"Nothing to show just yet"}),(0,b.jsx)("p",{className:i.default.emptySubtitle,children:q}),(0,b.jsx)("button",{type:"button",className:i.default.tryAgainButton,onClick:()=>u(),children:"Refresh list"})]}):A?(0,b.jsxs)("div",{className:i.default.emptyState,children:[(0,b.jsx)("p",{className:i.default.emptyTitle,children:"No matches found"}),(0,b.jsxs)("p",{className:i.default.emptySubtitle,children:['We could not find a restaurant that matches "',m,'". Try a different name or neighborhood.']})]}):(0,b.jsx)("div",{className:i.default.grid,children:v.map(a=>(0,b.jsxs)("div",{className:i.default.card,role:"button",tabIndex:0,onClick:()=>x(a.id),onKeyDown:b=>((a,b)=>{("Enter"===a.key||" "===a.key)&&(a.preventDefault(),x(b))})(b,a.id),children:[(0,b.jsx)("img",{src:a.profilePicture?(0,h.buildRestaurantServiceUrl)(a.profilePicture):j,alt:a.name,className:i.default.cardImage,onError:y}),(0,b.jsxs)("div",{className:i.default.cardBody,children:[(0,b.jsx)("h3",{className:i.default.cardTitle,children:a.name}),(0,b.jsxs)("div",{className:i.default.cardMeta,children:[(0,b.jsxs)("span",{children:[(0,b.jsx)("span",{className:i.default.metaLabel,children:"Location:"}),a.location||"Not specified"]}),(0,b.jsxs)("span",{children:[(0,b.jsx)("span",{className:i.default.metaLabel,children:"Contact:"}),a.contactNumber||"Unavailable"]})]}),(0,b.jsxs)("div",{className:i.default.cardFooter,children:[(0,b.jsxs)("span",{className:i.default.ctaLink,children:["View menu",(0,b.jsx)(e.FaArrowRight,{size:12,"aria-hidden":"true"})]}),(0,b.jsx)(e.FaUtensils,{size:16,color:"#2563eb","aria-hidden":"true"})]})]})]},a.id))})]})]}),(0,b.jsx)(g.default,{})]})}}];

//# sourceMappingURL=src_app_6a987dc1._.js.map