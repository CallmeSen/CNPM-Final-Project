module.exports=[14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},37542,a=>{a.v({actions:"foodList-module__3lENcq__actions",breadcrumbs:"foodList-module__3lENcq__breadcrumbs",card:"foodList-module__3lENcq__card",cardBody:"foodList-module__3lENcq__cardBody",cardDescription:"foodList-module__3lENcq__cardDescription",cardImage:"foodList-module__3lENcq__cardImage",cardImageWrapper:"foodList-module__3lENcq__cardImageWrapper",cardTitle:"foodList-module__3lENcq__cardTitle",content:"foodList-module__3lENcq__content",contentInner:"foodList-module__3lENcq__contentInner",emptyState:"foodList-module__3lENcq__emptyState",emptySubtitle:"foodList-module__3lENcq__emptySubtitle",emptyTitle:"foodList-module__3lENcq__emptyTitle",errorBanner:"foodList-module__3lENcq__errorBanner",favoriteButton:"foodList-module__3lENcq__favoriteButton",filters:"foodList-module__3lENcq__filters",grid:"foodList-module__3lENcq__grid",hero:"foodList-module__3lENcq__hero",heroInner:"foodList-module__3lENcq__heroInner",heroSubtitle:"foodList-module__3lENcq__heroSubtitle",heroTitle:"foodList-module__3lENcq__heroTitle",loading:"foodList-module__3lENcq__loading",metaRow:"foodList-module__3lENcq__metaRow",page:"foodList-module__3lENcq__page",price:"foodList-module__3lENcq__price",primaryButton:"foodList-module__3lENcq__primaryButton",searchInput:"foodList-module__3lENcq__searchInput",secondaryButton:"foodList-module__3lENcq__secondaryButton",sectionCount:"foodList-module__3lENcq__sectionCount",sectionHeader:"foodList-module__3lENcq__sectionHeader",sectionTitle:"foodList-module__3lENcq__sectionTitle",tag:"foodList-module__3lENcq__tag"})},39295,a=>{"use strict";a.s(["default",()=>n],39295);var b=a.i(87924),c=a.i(72131),d=a.i(88531),e=a.i(83490),f=a.i(71682),g=a.i(8226),h=a.i(1453),i=a.i(50749);let j=({message:a,isVisible:d,onClose:e,duration:f=2e3,type:g="success"})=>((0,c.useEffect)(()=>{if(d){let a=setTimeout(()=>{e()},f);return()=>clearTimeout(a)}},[d,f,e]),d)?(0,b.jsxs)("div",{style:{position:"fixed",top:"100px",right:"20px",background:(()=>{switch(g){case"success":default:return"linear-gradient(135deg, #667eea 0%, #764ba2 100%)";case"error":return"linear-gradient(135deg, #ff4d4d 0%, #f93838 100%)";case"warning":return"linear-gradient(135deg, #f7b731 0%, #f39c12 100%)";case"info":return"linear-gradient(135deg, #3498db 0%, #2980b9 100%)"}})(),color:"white",padding:"16px 24px",borderRadius:"12px",boxShadow:"0 8px 24px rgba(0, 0, 0, 0.2)",zIndex:1e4,fontSize:"16px",fontWeight:"600",display:"flex",alignItems:"center",gap:"12px",animation:"slideInRight 0.3s ease, fadeOut 0.3s ease 1.7s forwards",minWidth:"250px",maxWidth:"400px"},children:[(0,b.jsx)("span",{style:{fontSize:"24px"},children:(()=>{switch(g){case"success":default:return"✅";case"error":return"❌";case"warning":return"⚠️";case"info":return"ℹ️"}})()}),(0,b.jsx)("span",{style:{flex:1},children:a}),(0,b.jsx)("button",{onClick:e,style:{background:"rgba(255, 255, 255, 0.2)",border:"none",color:"white",fontSize:"18px",width:"24px",height:"24px",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background 0.2s"},onMouseEnter:a=>{a.currentTarget.style.background="rgba(255, 255, 255, 0.3)"},onMouseLeave:a=>{a.currentTarget.style.background="rgba(255, 255, 255, 0.2)"},children:"×"})]}):null;var k=a.i(5327),l=a.i(50407),m=a.i(37542);let n=()=>{let{restaurantId:a}=(0,d.useParams)(),n=(0,d.useNavigate)(),{addToCart:o}=(0,c.useContext)(k.CartContext),[p,q]=(0,c.useState)([]),[r,s]=(0,c.useState)("Restaurant"),[t,u]=(0,c.useState)(""),[v,w]=(0,c.useState)({}),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(!1),[B,C]=(0,c.useState)(""),D=(0,c.useMemo)(()=>p.length>0,[p]);(0,c.useEffect)(()=>{if(!a)return;let b=async()=>{try{let b=await e.default.get((0,l.buildRestaurantServiceUrl)(`/api/restaurant/details/${a}`));s(b.data.restaurant?.name??"Restaurant")}catch(b){if(e.default.isAxiosError(b)&&b.response?.status===404)try{let b=await e.default.get((0,l.buildRestaurantServiceUrl)("/api/restaurant/all")),c=b.data.restaurants?.find(b=>b._id===a);s(c?.name??"Restaurant");return}catch(a){console.error(a)}else console.error(b);s("Restaurant")}};(async()=>{try{let b=await e.default.get((0,l.buildRestaurantServiceUrl)(`/api/food-items/restaurant/${a}`));q(b.data)}catch(a){console.error(a),u("Failed to load food items.")}})(),b()},[a]);let E=a=>{w(b=>({...b,[a]:!b[a]}))},F=Array.isArray(a)?a[0]:a??null,G=a=>{a.currentTarget.src="https://placehold.co/300x180?text=Food+Image"};return(0,b.jsxs)("div",{className:m.default.page,children:[(0,b.jsx)(g.default,{}),(0,b.jsx)(j,{message:B,isVisible:z,onClose:()=>A(!1),type:"success"}),(0,b.jsx)(i.default,{isOpen:x,onClose:()=>y(!1)}),(0,b.jsx)("section",{className:m.default.hero,children:(0,b.jsxs)("div",{className:m.default.heroInner,children:[(0,b.jsxs)("div",{className:m.default.breadcrumbs,children:[(0,b.jsxs)("button",{type:"button",onClick:()=>n("/"),children:[(0,b.jsx)(f.FaHome,{size:14,"aria-hidden":"true"})," Home"]}),(0,b.jsx)("span",{children:"/"}),(0,b.jsx)("span",{children:r})]}),(0,b.jsx)("h1",{className:m.default.heroTitle,children:r}),(0,b.jsx)("p",{className:m.default.heroSubtitle,children:"Discover signature dishes crafted with fresh ingredients and served with care."})]})}),(0,b.jsx)("section",{className:m.default.content,children:(0,b.jsxs)("div",{className:m.default.contentInner,children:[(0,b.jsxs)("header",{className:m.default.sectionHeader,children:[(0,b.jsx)("h2",{className:m.default.sectionTitle,children:"Available dishes"}),(0,b.jsx)("span",{className:m.default.sectionCount,children:D?`${p.length} item${1===p.length?"":"s"} ready to order`:"No dishes yet"})]}),t&&(0,b.jsx)("div",{className:m.default.errorBanner,children:t}),D?(0,b.jsx)("div",{className:m.default.grid,children:p.map(a=>(0,b.jsxs)("article",{className:m.default.card,children:[(0,b.jsxs)("div",{className:m.default.cardImageWrapper,children:[(0,b.jsx)("img",{src:a.image?(0,l.buildRestaurantServiceUrl)(a.image):"https://placehold.co/300x180?text=Food+Image",alt:a.name,className:m.default.cardImage,onError:G}),(0,b.jsx)("button",{type:"button",className:m.default.favoriteButton,onClick:()=>E(a._id),"aria-pressed":v[a._id]??!1,children:v[a._id]?"❤":"♡"})]}),(0,b.jsxs)("div",{className:m.default.cardBody,children:[(0,b.jsx)("h3",{className:m.default.cardTitle,children:a.name}),(0,b.jsx)("p",{className:m.default.cardDescription,children:a.description}),(0,b.jsxs)("div",{className:m.default.metaRow,children:[(0,b.jsxs)("span",{className:m.default.price,children:[a.price.toLocaleString()," VND"]}),(0,b.jsx)("span",{className:m.default.tag,children:a.category})]})]}),(0,b.jsxs)("footer",{className:m.default.actions,children:[(0,b.jsx)("button",{type:"button",className:m.default.secondaryButton,onClick:()=>E(a._id),children:v[a._id]?"Saved":"Save for later"}),(0,b.jsx)("button",{type:"button",className:m.default.primaryButton,onClick:()=>(a=>{o(a,F??null),C(`${a.name} added to cart!`),A(!0),setTimeout(()=>{y(!0)},400)})(a),children:"Add to cart"})]})]},a._id))}):(0,b.jsxs)("div",{className:m.default.emptyState,children:[(0,b.jsx)("p",{className:m.default.emptyTitle,children:"Menu coming soon"}),(0,b.jsx)("p",{className:m.default.emptySubtitle,children:"This restaurant hasn't published their menu yet. Try visiting another restaurant or check back later."})]})]})}),(0,b.jsx)(h.default,{})]})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__10684459._.js.map