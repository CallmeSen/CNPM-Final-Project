module.exports=[14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},51234,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"HandleISRError",{enumerable:!0,get:function(){return e}});let d=a.r(56704).workAsyncStorage;function e(a){let{error:b}=a;if(d){let a=d.getStore();if((null==a?void 0:a.isRevalidate)||(null==a?void 0:a.isStaticGeneration))throw console.error(b),b}return null}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},40622,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return g}});let d=a.r(87924),e=a.r(51234),f={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},text:{fontSize:"14px",fontWeight:400,lineHeight:"28px",margin:"0 8px"}},g=function(a){let{error:b}=a,c=null==b?void 0:b.digest;return(0,d.jsxs)("html",{id:"__next_error__",children:[(0,d.jsx)("head",{}),(0,d.jsxs)("body",{children:[(0,d.jsx)(e.HandleISRError,{error:b}),(0,d.jsx)("div",{style:f.error,children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("h2",{style:f.text,children:["Application error: a ",c?"server":"client","-side exception has occurred while loading ",window.location.hostname," (see the"," ",c?"server logs":"browser console"," for more information)."]}),c?(0,d.jsx)("p",{style:f.text,children:"Digest: "+c}):null]})})]})]})};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},88531,a=>{"use strict";a.s(["Link",()=>f,"useNavigate",()=>g,"useParams",()=>h]);var b=a.i(87924),c=a.i(38246),d=a.i(72131),e=a.i(50944);let f=({to:a,...d})=>(0,b.jsx)(c.default,{href:a,...d}),g=()=>{let a=(0,e.useRouter)();return(0,d.useCallback)((b,c)=>{if("number"==typeof b)return void(b<0?a.back():a.refresh());c?.replace?a.replace(b,{scroll:c.scroll}):a.push(b,{scroll:c?.scroll})},[a])},h=()=>(0,e.useParams)()},42343,a=>{"use strict";a.s(["GenIcon",()=>i],42343);var b=a.i(72131),c={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},d=b.default.createContext&&b.default.createContext(c),e=["attr","size","title"];function f(){return(f=Object.assign.bind()).apply(this,arguments)}function g(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function h(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?g(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):g(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function i(a){return c=>b.default.createElement(j,f({attr:h({},a.attr)},c),function a(c){return c&&c.map((c,d)=>b.default.createElement(c.tag,h({key:d},c.attr),a(c.child)))}(a.child))}function j(a){var g=c=>{var d,{attr:g,size:i,title:j}=a,k=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,e),l=i||c.size||"1em";return c.className&&(d=c.className),a.className&&(d=(d?d+" ":"")+a.className),b.default.createElement("svg",f({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},c.attr,g,k,{className:d,style:h(h({color:a.color||c.color},c.style),a.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),j&&b.default.createElement("title",null,j),a.children)};return void 0!==d?b.default.createElement(d.Consumer,null,a=>g(a)):g(c)}},39534,a=>{"use strict";a.s(["default",()=>l]);var b=a.i(87924),c=a.i(72131),d=a.i(83490),e=a.i(88531),f=a.i(95017),g=a.i(14407),h=a.i(57570),i=a.i(71682);let j={foodId:"",quantity:"1",price:"0"},k={customerId:"",restaurantId:"",items:[{...j}],totalPrice:0,deliveryAddress:""},l=({addOrder:a})=>{let[l,m]=(0,c.useState)(k),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)({}),{id:r}=(0,e.useParams)(),s=(0,e.useNavigate)(),t=(0,c.useMemo)(()=>null,[]);(0,c.useEffect)(()=>{(async()=>{if(!r){alert("Order ID is missing."),o(!1);return}try{let a=(await d.default.get(`http://localhost:5005/api/orders/${r}`,{headers:t?{Authorization:`Bearer ${t}`}:void 0})).data;m({customerId:a.customerId,restaurantId:a.restaurantId,items:a.items?a.items.map(a=>({foodId:a.foodId,quantity:String(a.quantity),price:String(a.price)})):[{...j}],totalPrice:a.totalPrice??0,deliveryAddress:a.deliveryAddress||""})}catch(a){console.error("Error fetching order:",a),alert("Error fetching the order details.")}finally{o(!1)}})()},[r,t]);let u=(a,b)=>{let{name:c,value:d}=b.target,e=[...l.items];e[a]={...e[a],[c]:d},m({...l,items:e})},v=async b=>{if(b.preventDefault(),!(()=>{let a={},b=/^[A-Za-z\s]+$/;return l.customerId.trim()&&b.test(l.customerId)||(a.customerId="Customer name must contain only letters."),l.restaurantId.trim()&&b.test(l.restaurantId)||(a.restaurantId="Restaurant name must contain only letters."),l.items.forEach((c,d)=>{c.foodId.trim()&&b.test(c.foodId)||(a[`foodId_${d}`]="Food name must contain only letters."),0>=Number(c.quantity)&&(a[`quantity_${d}`]="Quantity must be a positive number."),0>=Number(c.price)&&(a[`price_${d}`]="Price must be a positive number.")}),l.deliveryAddress.trim()?l.deliveryAddress.trim().length<10?a.deliveryAddress="Delivery address must be at least 10 characters.":/^[A-Za-z0-9\s,.]+$/.test(l.deliveryAddress)||(a.deliveryAddress="Delivery address can only contain letters, numbers, commas, dots, and spaces."):a.deliveryAddress="Delivery address must not be empty.",q(a),0===Object.keys(a).length})())return;if(!t){alert("Please login to update your order."),s("/auth/login");return}let c=l.items.map(a=>({foodId:a.foodId,quantity:Number(a.quantity),price:Number(a.price)})),e=c.reduce((a,b)=>a+b.quantity*b.price,0),f={customerId:l.customerId,restaurantId:l.restaurantId,items:c,totalPrice:e,deliveryAddress:l.deliveryAddress};try{let b=await d.default.patch(`http://localhost:5005/api/orders/${r}`,f,{headers:{Authorization:`Bearer ${t}`}});return a?.({...l,totalPrice:e}),alert("Your Order Is Successfully Updated!"),s("/orders"),b.data}catch(a){console.error("Error updating order:",a),alert("There was an error updating the order. Please try again.")}};return n?(0,b.jsxs)("div",{className:"container",style:{textAlign:"center",paddingTop:"50px"},children:[(0,b.jsx)(h.Spinner,{animation:"border"}),(0,b.jsx)("p",{children:"Loading order details..."})]}):(0,b.jsxs)("div",{className:"container",style:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",backgroundColor:"#f0f4f8",padding:"20px",flexDirection:"column"},children:[(0,b.jsx)("div",{style:{position:"absolute",top:"20px",left:"20px"},children:(0,b.jsx)(f.Button,{variant:"light",onClick:()=>s("/orders"),style:{border:"none",background:"none",fontSize:"30px"},children:(0,b.jsx)(i.FaArrowLeft,{})})}),(0,b.jsx)("h2",{style:{textAlign:"center",marginBottom:"30px",fontSize:"28px",fontWeight:"bold",color:"#333"},children:"Edit Order"}),(0,b.jsxs)(g.Form,{onSubmit:v,style:{backgroundColor:"#f9f9f9",padding:"20px",borderRadius:"8px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.1)",width:"500px",margin:"auto",marginTop:"20px"},children:[(0,b.jsxs)(g.Form.Group,{style:{marginBottom:"15px"},children:[(0,b.jsx)(g.Form.Label,{children:"Customer Name"}),(0,b.jsx)(g.Form.Control,{type:"text",value:l.customerId,onChange:a=>m({...l,customerId:a.target.value}),required:!0,style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ccc",marginBottom:"5px"}}),p.customerId&&(0,b.jsx)("div",{style:{color:"red",fontSize:"14px",marginBottom:"10px"},children:p.customerId})]}),(0,b.jsxs)(g.Form.Group,{style:{marginBottom:"15px"},children:[(0,b.jsx)(g.Form.Label,{children:"Restaurant Name"}),(0,b.jsx)(g.Form.Control,{type:"text",value:l.restaurantId,onChange:a=>m({...l,restaurantId:a.target.value}),required:!0,style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ccc",marginBottom:"5px"}}),p.restaurantId&&(0,b.jsx)("div",{style:{color:"red",fontSize:"14px",marginBottom:"10px"},children:p.restaurantId})]}),l.items.map((a,c)=>(0,b.jsxs)("div",{children:[(0,b.jsxs)(g.Form.Group,{style:{marginBottom:"15px"},children:[(0,b.jsx)(g.Form.Label,{children:"Food"}),(0,b.jsx)(g.Form.Control,{type:"text",name:"foodId",value:a.foodId,onChange:a=>u(c,a),required:!0,style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ccc",marginBottom:"5px"}}),p[`foodId_${c}`]&&(0,b.jsx)("div",{style:{color:"red",fontSize:"14px",marginBottom:"10px"},children:p[`foodId_${c}`]})]}),(0,b.jsxs)(g.Form.Group,{style:{marginBottom:"15px"},children:[(0,b.jsx)(g.Form.Label,{children:"Quantity"}),(0,b.jsx)(g.Form.Control,{type:"number",name:"quantity",value:a.quantity,onChange:a=>u(c,a),required:!0,style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ccc",marginBottom:"5px"}}),p[`quantity_${c}`]&&(0,b.jsx)("div",{style:{color:"red",fontSize:"14px",marginBottom:"10px"},children:p[`quantity_${c}`]})]}),(0,b.jsxs)(g.Form.Group,{style:{marginBottom:"15px"},children:[(0,b.jsx)(g.Form.Label,{children:"Price"}),(0,b.jsx)(g.Form.Control,{type:"number",name:"price",value:a.price,onChange:a=>u(c,a),required:!0,style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ccc",marginBottom:"5px"}}),p[`price_${c}`]&&(0,b.jsx)("div",{style:{color:"red",fontSize:"14px",marginBottom:"10px"},children:p[`price_${c}`]})]})]},c)),(0,b.jsxs)(g.Form.Group,{style:{marginBottom:"15px"},children:[(0,b.jsx)(g.Form.Label,{children:"Delivery Address"}),(0,b.jsx)(g.Form.Control,{type:"text",value:l.deliveryAddress,onChange:a=>m({...l,deliveryAddress:a.target.value}),required:!0,style:{width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ccc",marginBottom:"5px"}}),p.deliveryAddress&&(0,b.jsx)("div",{style:{color:"red",fontSize:"14px",marginBottom:"10px"},children:p.deliveryAddress})]}),(0,b.jsx)(f.Button,{type:"submit",style:{backgroundColor:"#dd7f32",color:"#fff",border:"none",padding:"10px 20px",borderRadius:"5px",cursor:"pointer",width:"100%"},children:"Update Order"})]})]})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__9c777197._.js.map