module.exports=[14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},51234,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"HandleISRError",{enumerable:!0,get:function(){return e}});let d=a.r(56704).workAsyncStorage;function e(a){let{error:b}=a;if(d){let a=d.getStore();if((null==a?void 0:a.isRevalidate)||(null==a?void 0:a.isStaticGeneration))throw console.error(b),b}return null}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},40622,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return g}});let d=a.r(87924),e=a.r(51234),f={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},text:{fontSize:"14px",fontWeight:400,lineHeight:"28px",margin:"0 8px"}},g=function(a){let{error:b}=a,c=null==b?void 0:b.digest;return(0,d.jsxs)("html",{id:"__next_error__",children:[(0,d.jsx)("head",{}),(0,d.jsxs)("body",{children:[(0,d.jsx)(e.HandleISRError,{error:b}),(0,d.jsx)("div",{style:f.error,children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("h2",{style:f.text,children:["Application error: a ",c?"server":"client","-side exception has occurred while loading ",window.location.hostname," (see the"," ",c?"server logs":"browser console"," for more information)."]}),c?(0,d.jsx)("p",{style:f.text,children:"Digest: "+c}):null]})})]})]})};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},88531,a=>{"use strict";a.s(["Link",()=>f,"useNavigate",()=>g,"useParams",()=>h]);var b=a.i(87924),c=a.i(38246),d=a.i(72131),e=a.i(50944);let f=({to:a,...d})=>(0,b.jsx)(c.default,{href:a,...d}),g=()=>{let a=(0,e.useRouter)();return(0,d.useCallback)((b,c)=>{if("number"==typeof b)return void(b<0?a.back():a.refresh());c?.replace?a.replace(b,{scroll:c.scroll}):a.push(b,{scroll:c?.scroll})},[a])},h=()=>(0,e.useParams)()},42343,a=>{"use strict";a.s(["GenIcon",()=>i],42343);var b=a.i(72131),c={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},d=b.default.createContext&&b.default.createContext(c),e=["attr","size","title"];function f(){return(f=Object.assign.bind()).apply(this,arguments)}function g(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function h(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?g(Object(c),!0).forEach(function(b){var d,e,f;d=a,e=b,f=c[b],(e=function(a){var b=function(a,b){if("object"!=typeof a||!a)return a;var c=a[Symbol.toPrimitive];if(void 0!==c){var d=c.call(a,b||"default");if("object"!=typeof d)return d;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===b?String:Number)(a)}(a,"string");return"symbol"==typeof b?b:b+""}(e))in d?Object.defineProperty(d,e,{value:f,enumerable:!0,configurable:!0,writable:!0}):d[e]=f}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):g(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function i(a){return c=>b.default.createElement(j,f({attr:h({},a.attr)},c),function a(c){return c&&c.map((c,d)=>b.default.createElement(c.tag,h({key:d},c.attr),a(c.child)))}(a.child))}function j(a){var g=c=>{var d,{attr:g,size:i,title:j}=a,k=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c={};for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){if(b.indexOf(d)>=0)continue;c[d]=a[d]}return c}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(a,e),l=i||c.size||"1em";return c.className&&(d=c.className),a.className&&(d=(d?d+" ":"")+a.className),b.default.createElement("svg",f({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},c.attr,g,k,{className:d,style:h(h({color:a.color||c.color},c.style),a.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),j&&b.default.createElement("title",null,j),a.children)};return void 0!==d?b.default.createElement(d.Consumer,null,a=>g(a)):g(c)}},87186,a=>{a.v({actionsRow:"customerOrders-module__qrRL2a__actionsRow",backButton:"customerOrders-module__qrRL2a__backButton",cardBody:"customerOrders-module__qrRL2a__cardBody",cardFooter:"customerOrders-module__qrRL2a__cardFooter",cardHeader:"customerOrders-module__qrRL2a__cardHeader",cardMeta:"customerOrders-module__qrRL2a__cardMeta",cardTitle:"customerOrders-module__qrRL2a__cardTitle",content:"customerOrders-module__qrRL2a__content",detailHeader:"customerOrders-module__qrRL2a__detailHeader",detailId:"customerOrders-module__qrRL2a__detailId",detailTitleBlock:"customerOrders-module__qrRL2a__detailTitleBlock",emptyState:"customerOrders-module__qrRL2a__emptyState",emptyTitle:"customerOrders-module__qrRL2a__emptyTitle",errorBanner:"customerOrders-module__qrRL2a__errorBanner",infoCard:"customerOrders-module__qrRL2a__infoCard",infoGrid:"customerOrders-module__qrRL2a__infoGrid",infoLabel:"customerOrders-module__qrRL2a__infoLabel",infoValue:"customerOrders-module__qrRL2a__infoValue",itemsTable:"customerOrders-module__qrRL2a__itemsTable",loading:"customerOrders-module__qrRL2a__loading",metaBlock:"customerOrders-module__qrRL2a__metaBlock",metaLabel:"customerOrders-module__qrRL2a__metaLabel",muted:"customerOrders-module__qrRL2a__muted",orderCard:"customerOrders-module__qrRL2a__orderCard",ordersList:"customerOrders-module__qrRL2a__ordersList",page:"customerOrders-module__qrRL2a__page",pillGroup:"customerOrders-module__qrRL2a__pillGroup",priceEmphasis:"customerOrders-module__qrRL2a__priceEmphasis",primaryButton:"customerOrders-module__qrRL2a__primaryButton",searchIcon:"customerOrders-module__qrRL2a__searchIcon",searchInput:"customerOrders-module__qrRL2a__searchInput",searchWrapper:"customerOrders-module__qrRL2a__searchWrapper",section:"customerOrders-module__qrRL2a__section",sectionFooter:"customerOrders-module__qrRL2a__sectionFooter",sectionTitle:"customerOrders-module__qrRL2a__sectionTitle",statusCanceled:"customerOrders-module__qrRL2a__statusCanceled",statusChip:"customerOrders-module__qrRL2a__statusChip",statusConfirmed:"customerOrders-module__qrRL2a__statusConfirmed",statusDefault:"customerOrders-module__qrRL2a__statusDefault",statusDelivered:"customerOrders-module__qrRL2a__statusDelivered",statusOutForDelivery:"customerOrders-module__qrRL2a__statusOutForDelivery",statusPending:"customerOrders-module__qrRL2a__statusPending",statusPreparing:"customerOrders-module__qrRL2a__statusPreparing",subtitle:"customerOrders-module__qrRL2a__subtitle",summaryBadge:"customerOrders-module__qrRL2a__summaryBadge",summaryRow:"customerOrders-module__qrRL2a__summaryRow",title:"customerOrders-module__qrRL2a__title",titleGroup:"customerOrders-module__qrRL2a__titleGroup",total:"customerOrders-module__qrRL2a__total",twoColumn:"customerOrders-module__qrRL2a__twoColumn"})},51781,a=>{"use strict";a.s(["default",()=>k]);var b=a.i(87924),c=a.i(72131),d=a.i(88531),e=a.i(71682),f=a.i(83490),g=a.i(87186);let h=new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}),i=a=>null==a||Number.isNaN(Number(a))?h.format(0):h.format(Number(a)),j={pending:g.default.statusPending,confirmed:g.default.statusConfirmed,preparing:g.default.statusPreparing,"out for delivery":g.default.statusOutForDelivery,delivered:g.default.statusDelivered,canceled:g.default.statusCanceled},k=()=>{let[a,h]=(0,c.useState)([]),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)(""),q=(0,d.useNavigate)();(0,c.useEffect)(()=>{(async()=>{try{let a=localStorage.getItem("token");if(!a)return void q("/auth/login");let b=[...(await f.default.get("http://localhost:5005/api/orders",{headers:{Authorization:`Bearer ${a}`}})).data].sort((a,b)=>{let c=new Date(a.createdAt??0).getTime();return new Date(b.createdAt??0).getTime()-c});h(b)}catch(a){console.error("Error fetching orders:",a),f.default.isAxiosError(a)?p(a.response?.data?.message??"Failed to load orders. Please try again."):p("Failed to load orders. Please try again.")}finally{n(!1)}})()},[q]);let r=(0,c.useMemo)(()=>{let b=k.trim().toLowerCase();return b?a.filter(a=>{let c=a.restaurantId?.toLowerCase().includes(b),d=a.deliveryAddress?.toLowerCase().includes(b),e=a._id?.toLowerCase().includes(b);return c||d||e}):a},[a,k]),s=(0,c.useMemo)(()=>r.reduce((a,b)=>a+(Number(b.totalPrice)||0),0),[r]),t=(0,c.useMemo)(()=>r.filter(a=>a.status?.toLowerCase()==="delivered").length,[r]);return(0,b.jsx)("div",{className:g.default.page,children:(0,b.jsxs)("div",{className:g.default.content,children:[(0,b.jsxs)("button",{type:"button",onClick:()=>{q(-1)},className:g.default.backButton,"aria-label":"Go back",children:[(0,b.jsx)(e.FaArrowLeft,{}),(0,b.jsx)("span",{children:"Back"})]}),(0,b.jsxs)("div",{className:g.default.titleGroup,children:[(0,b.jsx)("h1",{className:g.default.title,children:"My Orders"}),(0,b.jsx)("p",{className:g.default.subtitle,children:"Track every order and revisit your favourite meals whenever you want."})]}),(0,b.jsxs)("div",{className:g.default.summaryRow,children:[(0,b.jsxs)("span",{className:g.default.summaryBadge,children:[(0,b.jsx)("strong",{children:r.length})," orders"]}),(0,b.jsxs)("span",{className:g.default.summaryBadge,children:[(0,b.jsx)("strong",{children:t})," delivered"]}),(0,b.jsxs)("span",{className:g.default.summaryBadge,children:[(0,b.jsx)("strong",{children:i(s)})," spent"]}),(0,b.jsxs)("div",{className:g.default.searchWrapper,children:[(0,b.jsx)(e.FaSearch,{className:g.default.searchIcon}),(0,b.jsx)("input",{type:"search",value:k,onChange:a=>l(a.target.value),className:g.default.searchInput,placeholder:"Search by restaurant, address, or order ID","aria-label":"Search orders"})]})]}),o&&(0,b.jsx)("div",{className:g.default.errorBanner,children:o}),m?(0,b.jsx)("div",{className:g.default.loading,children:"Loading your orders..."}):0===r.length?(0,b.jsxs)("div",{className:g.default.emptyState,children:[(0,b.jsx)("p",{className:g.default.emptyTitle,children:"No orders found"}),(0,b.jsx)("p",{children:k?"Try a different search term.":"You have not placed any orders yet. Explore restaurants to get started."}),(0,b.jsx)(d.Link,{to:"/",children:(0,b.jsx)("button",{type:"button",className:g.default.primaryButton,children:"Explore Restaurants"})})]}):(0,b.jsx)("div",{className:g.default.ordersList,children:r.map(a=>(0,b.jsxs)("article",{className:g.default.orderCard,children:[(0,b.jsxs)("header",{className:g.default.cardHeader,children:[(0,b.jsxs)("div",{className:g.default.cardMeta,children:[(0,b.jsxs)("h2",{className:g.default.cardTitle,children:["Order #",a._id?.slice(-8).toUpperCase()]}),(0,b.jsx)("span",{children:(a=>{if(!a)return"Date not available";try{return new Intl.DateTimeFormat("en-US",{dateStyle:"medium",timeStyle:"short"}).format(new Date(a))}catch(b){return console.error("Failed to format date",b),a}})(a.createdAt)})]}),(0,b.jsx)("span",{className:`${g.default.statusChip} ${(a=>a?j[a.toLowerCase()]??g.default.statusDefault:g.default.statusDefault)(a.status)}`,children:a.status??"Pending"})]}),(0,b.jsxs)("section",{className:g.default.cardBody,children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:g.default.metaLabel,children:"Restaurant"}),(0,b.jsx)("span",{children:a.restaurantId||"Not specified"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:g.default.metaLabel,children:"Delivery address"}),(0,b.jsx)("span",{children:a.deliveryAddress||"Not provided"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("span",{className:g.default.metaLabel,children:"Items"}),(0,b.jsx)("span",{children:a.items?.length?`${a.items.length} item${a.items.length>1?"s":""}`:"No items recorded"})]})]}),!!a.items?.length&&(0,b.jsxs)("table",{className:g.default.itemsTable,children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Item"}),(0,b.jsx)("th",{children:"Quantity"}),(0,b.jsx)("th",{children:"Price"}),(0,b.jsx)("th",{children:"Subtotal"})]})}),(0,b.jsx)("tbody",{children:a.items.map((c,d)=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:c.foodId||"Item"}),(0,b.jsx)("td",{children:c.quantity??0}),(0,b.jsx)("td",{children:i(c.price)}),(0,b.jsx)("td",{children:i(c.price*c.quantity)})]},`${a._id}-item-${d}`))})]}),(0,b.jsxs)("footer",{className:g.default.cardFooter,children:[(0,b.jsxs)("span",{className:g.default.total,children:["Total ",i(a.totalPrice)]}),(0,b.jsx)(d.Link,{to:`/customer/order-details/${a._id}`,children:(0,b.jsxs)("button",{type:"button",className:g.default.primaryButton,children:[(0,b.jsx)(e.FaEye,{}),"View details"]})})]})]},a._id))})]})})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__cc23bf22._.js.map