(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,a,t)=>{a.exports=e.r(76562)},86906,e=>{"use strict";e.s(["default",()=>s],86906);var a=e.i(43476),t=e.i(71645),r=e.i(18566);let n=function(){let e=(0,r.useRouter)("/"),[n,s]=(0,t.useState)({name:"",ownerName:"",location:"",contactNumber:"",profilePicture:null,email:"",password:""}),[o,i]=(0,t.useState)(""),[l,c]=(0,t.useState)({name:"",ownerName:"",location:"",contactNumber:"",email:"",password:""}),m=e=>{let{name:a,value:t}=e.target;s({...n,[a]:t}),"profilePicture"!==a&&p(a,t)},p=(e,a)=>{let t={...l};switch(e){case"name":t.name=a?"":"Restaurant name is required";break;case"ownerName":t.ownerName=a?"":"Owner name is required";break;case"location":t.location=a?"":"Location is required";break;case"contactNumber":t.contactNumber=/^[0-9]{10}$/.test(a)?"":"Phone number must be exactly 10 digits";break;case"email":t.email=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(a)?"":"Please enter a valid email address";break;case"password":t.password=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{6,}$/.test(a)?"":"Password must be at least 6 characters, include a number and a special character"}c(t)},u=()=>{let e=Object.values(l).every(e=>""===e),a=n.name&&n.ownerName&&n.location&&n.contactNumber&&n.email&&n.password;return e&&a},d=async a=>{if(a.preventDefault(),u())try{let a=new FormData;a.append("name",n.name),a.append("ownerName",n.ownerName),a.append("location",n.location),a.append("contactNumber",n.contactNumber),n.profilePicture&&a.append("profilePicture",n.profilePicture),a.append("email",n.email),a.append("password",n.password);let t=await fetch("http://localhost:5002/api/restaurant/register",{method:"POST",body:a}),r=await t.json();t.ok?(i("Restaurant registered successfully!"),setTimeout(()=>{e.push("/dashboard")},2e3)):i(r.message||"Registration failed")}catch(e){i("Error registering the restaurant")}};return(0,a.jsxs)("div",{className:"restaurant-register-container",children:[(0,a.jsx)("h2",{children:"Restaurant Registration"}),(0,a.jsxs)("form",{onSubmit:d,encType:"multipart/form-data",children:[(0,a.jsx)("input",{type:"text",name:"name",placeholder:"Restaurant Name",value:n.name,onChange:m}),l.name&&(0,a.jsx)("p",{className:"error",children:l.name}),(0,a.jsx)("input",{type:"text",name:"ownerName",placeholder:"Owner Name",value:n.ownerName,onChange:m}),l.ownerName&&(0,a.jsx)("p",{className:"error",children:l.ownerName}),(0,a.jsx)("input",{type:"text",name:"location",placeholder:"Location",value:n.location,onChange:m}),l.location&&(0,a.jsx)("p",{className:"error",children:l.location}),(0,a.jsx)("input",{type:"text",name:"contactNumber",placeholder:"Contact Number",value:n.contactNumber,onChange:e=>{let{value:a}=e.target;/^\d{0,10}$/.test(a)&&s({...n,contactNumber:a})}}),l.contactNumber&&(0,a.jsx)("p",{className:"error",children:l.contactNumber}),(0,a.jsxs)("div",{className:"file-input-container",children:[(0,a.jsx)("label",{htmlFor:"profilePicture",children:"Select a profile picture"}),(0,a.jsx)("input",{type:"file",name:"profilePicture",accept:"image/*",id:"profilePicture",onChange:e=>{let a=e.target.files[0];s({...n,profilePicture:a})}}),n.profilePicture&&(0,a.jsxs)("p",{children:["Selected: ",n.profilePicture.name]})]}),(0,a.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:n.email,onChange:m}),l.email&&(0,a.jsx)("p",{className:"error",children:l.email}),(0,a.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:n.password,onChange:m}),l.password&&(0,a.jsx)("p",{className:"error",children:l.password}),(0,a.jsx)("button",{type:"submit",disabled:!u(),children:"Register"}),o&&(0,a.jsx)("p",{className:"message",children:o})]})]})},s=()=>(0,a.jsx)(n,{})}]);