(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,s,a)=>{s.exports=e.r(76562)},52683,e=>{"use strict";e.s(["default",()=>o],52683);var s=e.i(43476),a=e.i(71645),t=e.i(18566);let r=function(){let e=(0,t.useRouter)(),[r,o]=(0,a.useState)({email:"",password:""}),[l,i]=(0,a.useState)(""),[n,c]=(0,a.useState)({email:"",password:""}),d=e=>{let{name:s,value:a}=e.target;o({...r,[s]:a}),u(s,a)},u=(e,s)=>{let a={...n};switch(e){case"email":a.email=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s)?"":"Please enter a valid email address";break;case"password":a.password=s.length>=6?"":"Password must be at least 6 characters"}c(a)},m=async s=>{if(s.preventDefault(),!Object.values(n).some(e=>""!==e)&&p())try{let s=await fetch("http://localhost:5002/api/restaurant/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),a=await s.json();s.ok?(localStorage.setItem("token",a.token),i("Login successful!"),setTimeout(()=>{e.push("/dashboard")},2e3)):i(a.message)}catch(e){i("Error logging in")}},p=()=>!Object.values(n).some(e=>""!==e);return(0,s.jsxs)("div",{className:"restaurant-login-container",children:[(0,s.jsx)("h2",{children:"Restaurant Login"}),(0,s.jsxs)("form",{onSubmit:m,children:[(0,s.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:r.email,onChange:d}),n.email&&(0,s.jsx)("p",{className:"error",children:n.email}),(0,s.jsx)("input",{type:"password",name:"password",placeholder:"Password",value:r.password,onChange:d}),n.password&&(0,s.jsx)("p",{className:"error",children:n.password}),(0,s.jsx)("button",{type:"submit",disabled:!p(),children:"Login"}),l&&(0,s.jsx)("p",{className:"message",children:l})]})]})},o=()=>(0,s.jsx)(r,{})}]);