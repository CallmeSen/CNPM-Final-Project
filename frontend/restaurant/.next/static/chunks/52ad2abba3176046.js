(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,a,t)=>{a.exports=e.r(76562)},41470,e=>{"use strict";e.s(["default",()=>i]);var a=e.i(43476),t=e.i(71645),s=e.i(18566);let i=function(e){let{activeKey:i,userName:l=""}=e,r=(0,s.useRouter)(),o=(0,t.useMemo)(()=>[{key:"profile",label:"Profile",icon:"ðŸ‘¤",path:"/dashboard"},{key:"foodItems",label:"Food Items",icon:"ðŸ½ï¸",path:"/food-items"},{key:"availability",label:"Availability",icon:"ðŸ“…",path:"/availability"},{key:"orders",label:"Orders",icon:"ðŸ“¦",path:"/orders"},{key:"reports",label:"Reports",icon:"ðŸ“Š",path:"/reports"}],[]),n=(0,t.useCallback)(e=>{e.path&&r.push(e.path)},[r]),c=(0,t.useCallback)(()=>{localStorage.removeItem("token"),r.push("/")},[r]);return(0,a.jsxs)("aside",{className:"restaurant-sidebar",children:[(0,a.jsxs)("div",{className:"sidebar-header",children:[l&&(0,a.jsxs)("div",{className:"sidebar-user-greeting",children:[(0,a.jsx)("span",{className:"greeting-text",children:"Hello,"}),(0,a.jsx)("span",{className:"user-name",children:l}),(0,a.jsx)("span",{className:"greeting-emoji",children:"ðŸ‘‹"})]}),(0,a.jsxs)("div",{className:"sidebar-brand",children:[(0,a.jsx)("div",{className:"sidebar-logo",children:"ðŸ½ï¸"}),(0,a.jsxs)("div",{className:"sidebar-brand-text",children:[(0,a.jsx)("h2",{className:"sidebar-title",children:"Restaurant Hub"}),(0,a.jsx)("p",{className:"sidebar-tagline",children:"Manage your restaurant"})]})]})]}),(0,a.jsx)("nav",{className:"sidebar-nav",children:o.map(e=>(0,a.jsxs)("button",{type:"button",className:"sidebar-nav-item ".concat(i===e.key?"active":""),onClick:()=>n(e),children:[(0,a.jsx)("span",{className:"nav-item-icon",children:e.icon}),(0,a.jsx)("span",{className:"nav-item-label",children:e.label})]},e.key))}),(0,a.jsx)("div",{className:"sidebar-footer",children:(0,a.jsxs)("button",{type:"button",className:"sidebar-logout-btn",onClick:c,children:[(0,a.jsx)("span",{className:"logout-icon",children:"ðŸšª"}),(0,a.jsx)("span",{children:"Log out"})]})})]})}},36212,e=>{"use strict";e.s(["default",()=>l]);var a=e.i(43476),t=e.i(71645),s=e.i(18566),i=e.i(41470);let l=function(){let e=(0,s.useRouter)(),[l,r]=(0,t.useState)([]),[o,n]=(0,t.useState)(""),[c,d]=(0,t.useState)({name:"",description:"",price:"",category:"",imageUrl:""}),[h,m]=(0,t.useState)(null),[p,u]=(0,t.useState)(""),g=(0,t.useCallback)(async()=>{try{let a=localStorage.getItem("token"),t=await fetch("http://localhost:5002/api/restaurant/profile",{headers:{Authorization:"Bearer ".concat(a)}});if(401===t.status)return void(alert("Your session has expired. Please log in again."),localStorage.removeItem("token"),e.push("/"));let s=await t.json();t.ok&&u(s.name)}catch(e){console.error("Error fetching profile:",e)}},[]),x=(0,t.useCallback)(async()=>{try{let e=localStorage.getItem("token"),a=await fetch("http://localhost:5002/api/food-items/",{headers:{Authorization:"Bearer ".concat(e)}}),t=await a.json();a.ok&&r(t)}catch(e){console.error("Error fetching food items:",e)}},[]);(0,t.useEffect)(()=>{g(),x()},[g,x]);let j=async()=>{if(!c.name||!c.description||!c.price||!c.category||!c.imageFile)return void alert("Please fill in all fields before adding a food item.");try{let e=localStorage.getItem("token"),a=new FormData;a.append("name",c.name),a.append("description",c.description),a.append("price",c.price),a.append("category",c.category),a.append("image",c.imageFile);let t=await fetch("http://localhost:5002/api/food-items/create",{method:"POST",headers:{Authorization:"Bearer ".concat(e)},body:a}),s=await t.json();t.ok?(alert("Food item added successfully!"),x(),d({name:"",description:"",price:"",category:"",imageFile:null})):alert(s.message||"Failed to add food item")}catch(e){alert("Error adding food item")}},b=async e=>{if(window.confirm("Are you sure you want to delete this food item?"))try{let a=localStorage.getItem("token"),t=await fetch("http://localhost:5002/api/food-items/".concat(e),{method:"DELETE",headers:{Authorization:"Bearer ".concat(a)}}),s=await t.json();t.ok?(alert("Food item deleted successfully!"),x()):alert(s.message||"Failed to delete food item")}catch(e){alert("Error deleting food item")}},f=async()=>{if(!h.name||!h.description||!h.price||!h.category)return void alert("Please fill in all fields before updating the food item.");try{let e=localStorage.getItem("token"),a=new FormData;a.append("name",h.name),a.append("description",h.description),a.append("price",h.price),a.append("category",h.category),h.imageFile&&a.append("image",h.imageFile);let t=await fetch("http://localhost:5002/api/food-items/".concat(h._id),{method:"PUT",headers:{Authorization:"Bearer ".concat(e)},body:a}),s=await t.json();t.ok?(alert("Food item updated successfully!"),x(),m(null)):alert(s.message||"Failed to update food item")}catch(e){alert("Error updating food item")}};return(0,a.jsxs)("div",{className:"dashboard-container",children:[(0,a.jsx)(i.default,{activeKey:"foodItems",userName:p}),(0,a.jsx)("div",{className:"dashboard-content",children:(0,a.jsxs)("div",{className:"section-stack",children:[(0,a.jsxs)("div",{className:"section-card",children:[(0,a.jsxs)("div",{className:"section-header",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Menu Items"}),(0,a.jsx)("p",{className:"section-subtitle",children:"Manage your dishes, pricing, and categories in one place."})]}),(0,a.jsxs)("span",{className:"tag",children:[l.length," items"]})]}),(0,a.jsx)("div",{className:"section-toolbar",children:(0,a.jsx)("input",{type:"text",placeholder:"Search by food name...",className:"search-input",value:o,onChange:e=>n(e.target.value)})}),(0,a.jsx)("div",{className:"table-wrapper",children:(0,a.jsxs)("table",{className:"data-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Image"}),(0,a.jsx)("th",{children:"Name"}),(0,a.jsx)("th",{children:"Description"}),(0,a.jsx)("th",{children:"Price"}),(0,a.jsx)("th",{children:"Category"}),(0,a.jsx)("th",{children:"Actions"})]})}),(0,a.jsx)("tbody",{children:l.filter(e=>e.name.toLowerCase().includes(o.toLowerCase())).map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:(0,a.jsx)("div",{className:"",children:(0,a.jsx)("img",{src:"http://localhost:5002".concat(e.image),alt:e.name})})}),(0,a.jsx)("td",{children:e.name}),(0,a.jsx)("td",{children:e.description}),(0,a.jsx)("td",{children:e.price}),(0,a.jsx)("td",{children:e.category}),(0,a.jsxs)("td",{className:"table-actions",children:[(0,a.jsx)("button",{className:"btn btn-small btn-outline",onClick:()=>m(e),children:"Edit"}),(0,a.jsx)("button",{className:"btn btn-small btn-danger",onClick:()=>b(e._id),children:"Delete"})]})]},e._id))})]})})]}),h&&(0,a.jsxs)("div",{className:"section-card",children:[(0,a.jsxs)("div",{className:"section-header",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:"Edit Food Item"}),(0,a.jsxs)("p",{className:"section-subtitle",children:["Update the information for ",h.name,"."]})]}),(0,a.jsx)("button",{className:"btn btn-ghost btn-small",onClick:()=>m(null),children:"Close"})]}),(0,a.jsxs)("form",{className:"form-grid",children:[(0,a.jsx)("input",{type:"text",placeholder:"Name",value:h.name,onChange:e=>m({...h,name:e.target.value})}),(0,a.jsx)("textarea",{placeholder:"Description",value:h.description,onChange:e=>m({...h,description:e.target.value})}),(0,a.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",placeholder:"Price",value:h.price,onChange:e=>{let a=e.target.value.replace(/\D/g,"");m({...h,price:a})}}),(0,a.jsx)("input",{type:"text",placeholder:"Category",value:h.category,onChange:e=>m({...h,category:e.target.value})}),(0,a.jsxs)("div",{className:"form-file",children:[(0,a.jsx)("label",{htmlFor:"foodImage",children:"Food Image"}),(0,a.jsx)("input",{id:"foodImage",type:"file",accept:"image/*",onChange:e=>{var a;return m({...h,imageFile:null==(a=e.target.files)?void 0:a[0]})}})]}),(0,a.jsxs)("div",{className:"form-actions",children:[(0,a.jsx)("button",{type:"button",className:"btn btn-primary",onClick:f,children:"Save Changes"}),(0,a.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:()=>m(null),children:"Cancel"})]})]})]}),(0,a.jsxs)("div",{className:"section-card",children:[(0,a.jsx)("div",{className:"section-header",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:"Add Food Item"}),(0,a.jsx)("p",{className:"section-subtitle",children:"Upload new dishes to showcase them to customers."})]})}),(0,a.jsxs)("form",{className:"form-grid",children:[(0,a.jsx)("input",{type:"text",placeholder:"Name",value:c.name,onChange:e=>d({...c,name:e.target.value})}),(0,a.jsx)("textarea",{placeholder:"Description",value:c.description,onChange:e=>d({...c,description:e.target.value})}),(0,a.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",placeholder:"Price",value:c.price,onChange:e=>{let a=e.target.value.replace(/\D/g,"");d({...c,price:a})}}),(0,a.jsx)("input",{type:"text",placeholder:"Category",value:c.category,onChange:e=>d({...c,category:e.target.value})}),(0,a.jsxs)("div",{className:"form-file",children:[(0,a.jsx)("label",{htmlFor:"newFoodImage",children:"Food Image"}),(0,a.jsx)("input",{id:"newFoodImage",type:"file",accept:"image/*",onChange:e=>{var a;return d({...c,imageFile:null==(a=e.target.files)?void 0:a[0]})}})]}),(0,a.jsx)("div",{className:"form-actions",children:(0,a.jsx)("button",{type:"button",className:"btn btn-primary",onClick:j,children:"Add Food Item"})})]})]})]})})]})}}]);