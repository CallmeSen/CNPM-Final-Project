(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,a,l)=>{a.exports=e.r(76562)},41470,e=>{"use strict";e.s(["default",()=>t]);var a=e.i(43476),l=e.i(71645),s=e.i(18566);let t=function(e){let{activeKey:t,userName:i=""}=e,r=(0,s.useRouter)(),n=(0,l.useMemo)(()=>[{key:"profile",label:"Profile",icon:"ðŸ‘¤",path:"/dashboard"},{key:"foodItems",label:"Food Items",icon:"ðŸ½ï¸",path:"/food-items"},{key:"availability",label:"Availability",icon:"ðŸ“…",path:"/availability"},{key:"orders",label:"Orders",icon:"ðŸ“¦",path:"/orders"},{key:"reports",label:"Reports",icon:"ðŸ“Š",path:"/reports"}],[]),c=(0,l.useCallback)(e=>{e.path&&r.push(e.path)},[r]),o=(0,l.useCallback)(()=>{localStorage.removeItem("token"),r.push("/")},[r]);return(0,a.jsxs)("aside",{className:"restaurant-sidebar",children:[(0,a.jsxs)("div",{className:"sidebar-header",children:[i&&(0,a.jsxs)("div",{className:"sidebar-user-greeting",children:[(0,a.jsx)("span",{className:"greeting-text",children:"Hello,"}),(0,a.jsx)("span",{className:"user-name",children:i}),(0,a.jsx)("span",{className:"greeting-emoji",children:"ðŸ‘‹"})]}),(0,a.jsxs)("div",{className:"sidebar-brand",children:[(0,a.jsx)("div",{className:"sidebar-logo",children:"ðŸ½ï¸"}),(0,a.jsxs)("div",{className:"sidebar-brand-text",children:[(0,a.jsx)("h2",{className:"sidebar-title",children:"Restaurant Hub"}),(0,a.jsx)("p",{className:"sidebar-tagline",children:"Manage your restaurant"})]})]})]}),(0,a.jsx)("nav",{className:"sidebar-nav",children:n.map(e=>(0,a.jsxs)("button",{type:"button",className:"sidebar-nav-item ".concat(t===e.key?"active":""),onClick:()=>c(e),children:[(0,a.jsx)("span",{className:"nav-item-icon",children:e.icon}),(0,a.jsx)("span",{className:"nav-item-label",children:e.label})]},e.key))}),(0,a.jsx)("div",{className:"sidebar-footer",children:(0,a.jsxs)("button",{type:"button",className:"sidebar-logout-btn",onClick:o,children:[(0,a.jsx)("span",{className:"logout-icon",children:"ðŸšª"}),(0,a.jsx)("span",{children:"Log out"})]})})]})}},30257,e=>{"use strict";e.s(["default",()=>r],30257);var a=e.i(43476),l=e.i(71645),s=e.i(18566),t=e.i(41470);let i=function(){var e,i,r,n;let c=(0,s.useRouter)(),[o,d]=(0,l.useState)({}),[u,h]=(0,l.useState)(!1),[m,p]=(0,l.useState)(null),x=(0,l.useCallback)(async()=>{try{let e=localStorage.getItem("token"),a=await fetch("http://localhost:5002/api/restaurant/profile",{headers:{Authorization:"Bearer ".concat(e)}});if(401===a.status)return void(alert("Your session has expired. Please log in again."),localStorage.removeItem("token"),c.push("/"));let l=await a.json();a.ok?d(l):alert(l.message||"Failed to fetch profile")}catch(e){alert("Error fetching profile")}},[]);(0,l.useEffect)(()=>{x()},[x]);let b=async e=>{try{let a=localStorage.getItem("token"),l=new FormData;l.append("name",e.name),l.append("ownerName",e.ownerName),l.append("location",e.location),l.append("contactNumber",e.contactNumber),e.profilePictureFile&&l.append("profilePicture",e.profilePictureFile);let s=await fetch("http://localhost:5002/api/restaurant/update",{method:"PUT",headers:{Authorization:"Bearer ".concat(a)},body:l}),t=await s.json();s.ok?(alert("Profile updated successfully!"),x(),h(!1)):alert(t.message||"Failed to update profile")}catch(e){alert("Error updating profile")}};return(0,a.jsxs)("div",{className:"dashboard-container",children:[(0,a.jsx)(t.default,{activeKey:"profile",userName:o.name}),(0,a.jsx)("div",{className:"dashboard-content",children:(0,a.jsxs)("div",{className:"section-card profile-card",children:[(0,a.jsxs)("div",{className:"section-header",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{children:"Profile"}),(0,a.jsx)("p",{className:"section-subtitle",children:"Keep your restaurant details up to date for your customers."})]}),!u&&(0,a.jsx)("button",{className:"btn btn-primary",onClick:()=>{p({...o}),h(!0)},children:"Edit Profile"})]}),u?(0,a.jsxs)("form",{className:"form-grid",children:[(0,a.jsx)("input",{type:"text",placeholder:"Name",value:null!=(e=null==m?void 0:m.name)?e:"",onChange:e=>p({...m,name:e.target.value})}),(0,a.jsx)("input",{type:"text",placeholder:"Owner Name",value:null!=(i=null==m?void 0:m.ownerName)?i:"",onChange:e=>p({...m,ownerName:e.target.value})}),(0,a.jsx)("input",{type:"text",placeholder:"Location",value:null!=(r=null==m?void 0:m.location)?r:"",onChange:e=>p({...m,location:e.target.value})}),(0,a.jsx)("input",{type:"text",placeholder:"Contact Number",value:null!=(n=null==m?void 0:m.contactNumber)?n:"",onChange:e=>p({...m,contactNumber:e.target.value})}),(0,a.jsxs)("div",{className:"form-file",children:[(0,a.jsx)("label",{htmlFor:"profilePicture",children:"Profile Picture"}),(0,a.jsx)("input",{id:"profilePicture",type:"file",accept:"image/*",onChange:e=>{var a;return p({...m,profilePictureFile:null==(a=e.target.files)?void 0:a[0]})}})]}),(0,a.jsxs)("div",{className:"form-actions",children:[(0,a.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>b(m),children:"Save Changes"}),(0,a.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:()=>{h(!1),p(null)},children:"Cancel"})]})]}):(0,a.jsxs)("div",{className:"profile-overview",children:[(0,a.jsx)("div",{children:o.profilePicture?(0,a.jsx)("img",{src:"http://localhost:5002".concat(o.profilePicture),alt:o.name||"Restaurant"}):(0,a.jsx)("div",{className:"avatar-fallback",children:(o.name||"?").charAt(0).toUpperCase()})}),(0,a.jsxs)("div",{className:"profile-details",children:[(0,a.jsxs)("div",{className:"detail-row",children:[(0,a.jsx)("span",{className:"detail-label",children:"Name"}),(0,a.jsx)("span",{className:"detail-value",children:o.name||"--"})]}),(0,a.jsxs)("div",{className:"detail-row",children:[(0,a.jsx)("span",{className:"detail-label",children:"Owner"}),(0,a.jsx)("span",{className:"detail-value",children:o.ownerName||"--"})]}),(0,a.jsxs)("div",{className:"detail-row",children:[(0,a.jsx)("span",{className:"detail-label",children:"Location"}),(0,a.jsx)("span",{className:"detail-value",children:o.location||"--"})]}),(0,a.jsxs)("div",{className:"detail-row",children:[(0,a.jsx)("span",{className:"detail-label",children:"Contact"}),(0,a.jsx)("span",{className:"detail-value",children:o.contactNumber||"--"})]})]})]})]})})]})},r=()=>(0,a.jsx)(i,{})}]);