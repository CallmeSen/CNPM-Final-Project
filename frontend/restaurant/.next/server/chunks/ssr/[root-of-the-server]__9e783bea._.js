module.exports=[72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},52068,a=>{"use strict";a.s(["default",()=>e]);var b=a.i(87924),c=a.i(72131),d=a.i(50944);let e=function({activeKey:a,userName:e=""}){let f=(0,d.useRouter)(),g=(0,c.useMemo)(()=>[{key:"profile",label:"Profile",icon:"ðŸ‘¤",path:"/dashboard"},{key:"foodItems",label:"Food Items",icon:"ðŸ½ï¸",path:"/food-items"},{key:"availability",label:"Availability",icon:"ðŸ“…",path:"/availability"},{key:"orders",label:"Orders",icon:"ðŸ“¦",path:"/orders"},{key:"reports",label:"Reports",icon:"ðŸ“Š",path:"/reports"}],[]),h=(0,c.useCallback)(a=>{a.path&&f.push(a.path)},[f]),i=(0,c.useCallback)(()=>{localStorage.removeItem("token"),f.push("/")},[f]);return(0,b.jsxs)("aside",{className:"restaurant-sidebar",children:[(0,b.jsxs)("div",{className:"sidebar-header",children:[e&&(0,b.jsxs)("div",{className:"sidebar-user-greeting",children:[(0,b.jsx)("span",{className:"greeting-text",children:"Hello,"}),(0,b.jsx)("span",{className:"user-name",children:e}),(0,b.jsx)("span",{className:"greeting-emoji",children:"ðŸ‘‹"})]}),(0,b.jsxs)("div",{className:"sidebar-brand",children:[(0,b.jsx)("div",{className:"sidebar-logo",children:"ðŸ½ï¸"}),(0,b.jsxs)("div",{className:"sidebar-brand-text",children:[(0,b.jsx)("h2",{className:"sidebar-title",children:"Restaurant Hub"}),(0,b.jsx)("p",{className:"sidebar-tagline",children:"Manage your restaurant"})]})]})]}),(0,b.jsx)("nav",{className:"sidebar-nav",children:g.map(c=>(0,b.jsxs)("button",{type:"button",className:`sidebar-nav-item ${a===c.key?"active":""}`,onClick:()=>h(c),children:[(0,b.jsx)("span",{className:"nav-item-icon",children:c.icon}),(0,b.jsx)("span",{className:"nav-item-label",children:c.label})]},c.key))}),(0,b.jsx)("div",{className:"sidebar-footer",children:(0,b.jsxs)("button",{type:"button",className:"sidebar-logout-btn",onClick:i,children:[(0,b.jsx)("span",{className:"logout-icon",children:"ðŸšª"}),(0,b.jsx)("span",{children:"Log out"})]})})]})}},34430,a=>{"use strict";a.s(["default",()=>i],34430);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(52068);let f=["Pending","Confirmed","Preparing","Out for Delivery","Delivered","Canceled"],g={Pending:{color:"#ff9800",label:"Pending"},Paid:{color:"#4CAF50",label:"Paid"},Failed:{color:"#f44336",label:"Failed"}},h=function(){(0,d.useRouter)();let[a,h]=(0,c.useState)([]),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)("all"),[m,n]=(0,c.useState)(""),o=(0,c.useCallback)(async()=>{try{let a=localStorage.getItem("token"),b=await fetch("http://localhost:5002/api/restaurant/profile",{headers:{Authorization:`Bearer ${a}`}});if(b.ok){let a=await b.json();n(a.name)}}catch(a){console.error("Error fetching profile:",a)}},[]),p=(0,c.useCallback)(async()=>{try{let a=localStorage.getItem("token"),b=await fetch("http://localhost:5005/api/orders",{headers:{Authorization:`Bearer ${a}`}});if(!b.ok)throw Error("Failed to fetch orders");let c=await b.json();h(c)}catch(a){console.error("Error fetching orders:",a)}finally{j(!1)}},[]);(0,c.useEffect)(()=>{o(),p()},[o,p]);let q=async(a,b)=>{try{let c=localStorage.getItem("token");if(!(await fetch(`http://localhost:5005/api/orders/${a}/status`,{method:"PATCH",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify({status:b})})).ok)throw Error("Failed to update order status");await p()}catch(a){console.error("Error updating order:",a),alert("Failed to update order status")}},r=async(a,b)=>{try{let c=localStorage.getItem("token");if(!(await fetch(`http://localhost:5005/api/orders/${a}`,{method:"PATCH",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify({paymentStatus:b})})).ok)throw Error("Failed to update payment status");await p()}catch(a){console.error("Error updating payment:",a),alert("Failed to update payment status")}},s=(0,c.useMemo)(()=>"all"===k?a:"pending"===k?a.filter(a=>"Pending"===a.status):"confirmed"===k?a.filter(a=>"Confirmed"===a.status):"delivered"===k?a.filter(a=>"Delivered"===a.status):a,[a,k]),t=(0,c.useMemo)(()=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND",maximumFractionDigits:0}),[]);return(0,b.jsxs)("div",{className:"dashboard-container orders-dashboard",children:[(0,b.jsx)(e.default,{activeKey:"orders",userName:m}),(0,b.jsx)("div",{className:"dashboard-content orders-content",children:(0,b.jsxs)("div",{className:"orders-container",children:[(0,b.jsxs)("div",{className:"orders-header",children:[(0,b.jsxs)("div",{className:"orders-title",children:[(0,b.jsx)("h1",{children:"Restaurant Orders"}),(0,b.jsx)("p",{children:"Manage and track all your restaurant orders"})]}),(0,b.jsx)("button",{className:"btn-refresh",onClick:p,children:"ðŸ”„ Refresh"})]}),(0,b.jsxs)("div",{className:"filters-section",children:[(0,b.jsxs)("button",{className:`filter-btn ${"all"===k?"active":""}`,onClick:()=>l("all"),children:["All (",a.length,")"]}),(0,b.jsxs)("button",{className:`filter-btn ${"pending"===k?"active":""}`,onClick:()=>l("pending"),children:["Pending (",a.filter(a=>"Pending"===a.status).length,")"]}),(0,b.jsxs)("button",{className:`filter-btn ${"confirmed"===k?"active":""}`,onClick:()=>l("confirmed"),children:["Confirmed (",a.filter(a=>"Confirmed"===a.status).length,")"]}),(0,b.jsxs)("button",{className:`filter-btn ${"delivered"===k?"active":""}`,onClick:()=>l("delivered"),children:["Delivered (",a.filter(a=>"Delivered"===a.status).length,")"]})]}),i?(0,b.jsx)("div",{className:"loading-state",children:"Loading orders..."}):0===s.length?(0,b.jsx)("div",{className:"empty-state",children:(0,b.jsx)("p",{children:"ðŸ“¦ No orders found"})}):(0,b.jsx)("div",{className:"orders-list",children:s.map(a=>(0,b.jsxs)("div",{className:"order-card",children:[(0,b.jsxs)("div",{className:"order-header",children:[(0,b.jsxs)("div",{className:"order-info",children:[(0,b.jsxs)("h3",{children:["Order #",a._id.slice(-8)]}),(0,b.jsx)("span",{className:"order-date",children:new Date(a.createdAt).toLocaleString("vi-VN")})]}),(0,b.jsxs)("div",{className:"order-badges",children:[(0,b.jsx)("span",{className:"badge payment-badge",style:{background:g[a.paymentStatus]?.color||"#999"},children:a.paymentStatus}),(0,b.jsx)("span",{className:"badge status-badge",children:a.status})]})]}),(0,b.jsxs)("div",{className:"order-details",children:[(0,b.jsxs)("div",{className:"order-items",children:[(0,b.jsx)("strong",{children:"Items:"}),(0,b.jsx)("ul",{children:a.items.map((a,c)=>(0,b.jsxs)("li",{children:[a.quantity,"x - ",t.format(a.price)]},c))})]}),(0,b.jsxs)("div",{className:"order-info-row",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Delivery Address:"}),(0,b.jsx)("p",{children:a.deliveryAddress})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Total:"}),(0,b.jsx)("p",{className:"order-total",children:t.format(a.totalPrice)})]})]})]}),(0,b.jsxs)("div",{className:"order-actions",children:[(0,b.jsxs)("div",{className:"action-group",children:[(0,b.jsx)("label",{children:"Order Status:"}),(0,b.jsx)("select",{value:a.status,onChange:b=>q(a._id,b.target.value),className:"status-select",children:f.map(a=>(0,b.jsx)("option",{value:a,children:a},a))})]}),"Paid"!==a.paymentStatus&&(0,b.jsx)("button",{className:"btn-mark-paid",onClick:()=>r(a._id,"Paid"),children:"Mark as Paid"})]})]},a._id))})]})})]})};function i(){return(0,b.jsx)(h,{})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__9e783bea._.js.map