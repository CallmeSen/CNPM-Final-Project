module.exports=[72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},52068,a=>{"use strict";a.s(["default",()=>e]);var b=a.i(87924),c=a.i(72131),d=a.i(50944);let e=function({activeKey:a,userName:e=""}){let f=(0,d.useRouter)(),g=(0,c.useMemo)(()=>[{key:"profile",label:"Profile",icon:"ðŸ‘¤",path:"/dashboard"},{key:"foodItems",label:"Food Items",icon:"ðŸ½ï¸",path:"/food-items"},{key:"availability",label:"Availability",icon:"ðŸ“…",path:"/availability"},{key:"orders",label:"Orders",icon:"ðŸ“¦",path:"/orders"},{key:"reports",label:"Reports",icon:"ðŸ“Š",path:"/reports"}],[]),h=(0,c.useCallback)(a=>{a.path&&f.push(a.path)},[f]),i=(0,c.useCallback)(()=>{localStorage.removeItem("token"),f.push("/")},[f]);return(0,b.jsxs)("aside",{className:"restaurant-sidebar",children:[(0,b.jsxs)("div",{className:"sidebar-header",children:[e&&(0,b.jsxs)("div",{className:"sidebar-user-greeting",children:[(0,b.jsx)("span",{className:"greeting-text",children:"Hello,"}),(0,b.jsx)("span",{className:"user-name",children:e}),(0,b.jsx)("span",{className:"greeting-emoji",children:"ðŸ‘‹"})]}),(0,b.jsxs)("div",{className:"sidebar-brand",children:[(0,b.jsx)("div",{className:"sidebar-logo",children:"ðŸ½ï¸"}),(0,b.jsxs)("div",{className:"sidebar-brand-text",children:[(0,b.jsx)("h2",{className:"sidebar-title",children:"Restaurant Hub"}),(0,b.jsx)("p",{className:"sidebar-tagline",children:"Manage your restaurant"})]})]})]}),(0,b.jsx)("nav",{className:"sidebar-nav",children:g.map(c=>(0,b.jsxs)("button",{type:"button",className:`sidebar-nav-item ${a===c.key?"active":""}`,onClick:()=>h(c),children:[(0,b.jsx)("span",{className:"nav-item-icon",children:c.icon}),(0,b.jsx)("span",{className:"nav-item-label",children:c.label})]},c.key))}),(0,b.jsx)("div",{className:"sidebar-footer",children:(0,b.jsxs)("button",{type:"button",className:"sidebar-logout-btn",onClick:i,children:[(0,b.jsx)("span",{className:"logout-icon",children:"ðŸšª"}),(0,b.jsx)("span",{children:"Log out"})]})})]})}},49846,a=>{"use strict";a.s(["default",()=>g],49846);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(52068);let f=function(){let a=(0,d.useRouter)(),[f,g]=(0,c.useState)({}),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(null),l=(0,c.useCallback)(async()=>{try{let b=localStorage.getItem("token"),c=await fetch("http://localhost:5002/api/restaurant/profile",{headers:{Authorization:`Bearer ${b}`}});if(401===c.status)return void(alert("Your session has expired. Please log in again."),localStorage.removeItem("token"),a.push("/"));let d=await c.json();c.ok?g(d):alert(d.message||"Failed to fetch profile")}catch(a){alert("Error fetching profile")}},[]);(0,c.useEffect)(()=>{l()},[l]);let m=async a=>{try{let b=localStorage.getItem("token"),c=new FormData;c.append("name",a.name),c.append("ownerName",a.ownerName),c.append("location",a.location),c.append("contactNumber",a.contactNumber),a.profilePictureFile&&c.append("profilePicture",a.profilePictureFile);let d=await fetch("http://localhost:5002/api/restaurant/update",{method:"PUT",headers:{Authorization:`Bearer ${b}`},body:c}),e=await d.json();d.ok?(alert("Profile updated successfully!"),l(),i(!1)):alert(e.message||"Failed to update profile")}catch(a){alert("Error updating profile")}};return(0,b.jsxs)("div",{className:"dashboard-container",children:[(0,b.jsx)(e.default,{activeKey:"profile",userName:f.name}),(0,b.jsx)("div",{className:"dashboard-content",children:(0,b.jsxs)("div",{className:"section-card profile-card",children:[(0,b.jsxs)("div",{className:"section-header",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{children:"Profile"}),(0,b.jsx)("p",{className:"section-subtitle",children:"Keep your restaurant details up to date for your customers."})]}),!h&&(0,b.jsx)("button",{className:"btn btn-primary",onClick:()=>{k({...f}),i(!0)},children:"Edit Profile"})]}),h?(0,b.jsxs)("form",{className:"form-grid",children:[(0,b.jsx)("input",{type:"text",placeholder:"Name",value:j?.name??"",onChange:a=>k({...j,name:a.target.value})}),(0,b.jsx)("input",{type:"text",placeholder:"Owner Name",value:j?.ownerName??"",onChange:a=>k({...j,ownerName:a.target.value})}),(0,b.jsx)("input",{type:"text",placeholder:"Location",value:j?.location??"",onChange:a=>k({...j,location:a.target.value})}),(0,b.jsx)("input",{type:"text",placeholder:"Contact Number",value:j?.contactNumber??"",onChange:a=>k({...j,contactNumber:a.target.value})}),(0,b.jsxs)("div",{className:"form-file",children:[(0,b.jsx)("label",{htmlFor:"profilePicture",children:"Profile Picture"}),(0,b.jsx)("input",{id:"profilePicture",type:"file",accept:"image/*",onChange:a=>k({...j,profilePictureFile:a.target.files?.[0]})})]}),(0,b.jsxs)("div",{className:"form-actions",children:[(0,b.jsx)("button",{type:"button",className:"btn btn-primary",onClick:()=>m(j),children:"Save Changes"}),(0,b.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:()=>{i(!1),k(null)},children:"Cancel"})]})]}):(0,b.jsxs)("div",{className:"profile-overview",children:[(0,b.jsx)("div",{children:f.profilePicture?(0,b.jsx)("img",{src:`http://localhost:5002${f.profilePicture}`,alt:f.name||"Restaurant"}):(0,b.jsx)("div",{className:"avatar-fallback",children:(f.name||"?").charAt(0).toUpperCase()})}),(0,b.jsxs)("div",{className:"profile-details",children:[(0,b.jsxs)("div",{className:"detail-row",children:[(0,b.jsx)("span",{className:"detail-label",children:"Name"}),(0,b.jsx)("span",{className:"detail-value",children:f.name||"--"})]}),(0,b.jsxs)("div",{className:"detail-row",children:[(0,b.jsx)("span",{className:"detail-label",children:"Owner"}),(0,b.jsx)("span",{className:"detail-value",children:f.ownerName||"--"})]}),(0,b.jsxs)("div",{className:"detail-row",children:[(0,b.jsx)("span",{className:"detail-label",children:"Location"}),(0,b.jsx)("span",{className:"detail-value",children:f.location||"--"})]}),(0,b.jsxs)("div",{className:"detail-row",children:[(0,b.jsx)("span",{className:"detail-label",children:"Contact"}),(0,b.jsx)("span",{className:"detail-value",children:f.contactNumber||"--"})]})]})]})]})})]})},g=()=>(0,b.jsx)(f,{})}];

//# sourceMappingURL=%5Broot-of-the-server%5D__1773cd81._.js.map