module.exports=[72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},52068,a=>{"use strict";a.s(["default",()=>e]);var b=a.i(87924),c=a.i(72131),d=a.i(50944);let e=function({activeKey:a,userName:e=""}){let f=(0,d.useRouter)(),g=(0,c.useMemo)(()=>[{key:"profile",label:"Profile",icon:"ðŸ‘¤",path:"/dashboard"},{key:"foodItems",label:"Food Items",icon:"ðŸ½ï¸",path:"/food-items"},{key:"availability",label:"Availability",icon:"ðŸ“…",path:"/availability"},{key:"orders",label:"Orders",icon:"ðŸ“¦",path:"/orders"},{key:"reports",label:"Reports",icon:"ðŸ“Š",path:"/reports"}],[]),h=(0,c.useCallback)(a=>{a.path&&f.push(a.path)},[f]),i=(0,c.useCallback)(()=>{localStorage.removeItem("token"),f.push("/")},[f]);return(0,b.jsxs)("aside",{className:"restaurant-sidebar",children:[(0,b.jsxs)("div",{className:"sidebar-header",children:[e&&(0,b.jsxs)("div",{className:"sidebar-user-greeting",children:[(0,b.jsx)("span",{className:"greeting-text",children:"Hello,"}),(0,b.jsx)("span",{className:"user-name",children:e}),(0,b.jsx)("span",{className:"greeting-emoji",children:"ðŸ‘‹"})]}),(0,b.jsxs)("div",{className:"sidebar-brand",children:[(0,b.jsx)("div",{className:"sidebar-logo",children:"ðŸ½ï¸"}),(0,b.jsxs)("div",{className:"sidebar-brand-text",children:[(0,b.jsx)("h2",{className:"sidebar-title",children:"Restaurant Hub"}),(0,b.jsx)("p",{className:"sidebar-tagline",children:"Manage your restaurant"})]})]})]}),(0,b.jsx)("nav",{className:"sidebar-nav",children:g.map(c=>(0,b.jsxs)("button",{type:"button",className:`sidebar-nav-item ${a===c.key?"active":""}`,onClick:()=>h(c),children:[(0,b.jsx)("span",{className:"nav-item-icon",children:c.icon}),(0,b.jsx)("span",{className:"nav-item-label",children:c.label})]},c.key))}),(0,b.jsx)("div",{className:"sidebar-footer",children:(0,b.jsxs)("button",{type:"button",className:"sidebar-logout-btn",onClick:i,children:[(0,b.jsx)("span",{className:"logout-icon",children:"ðŸšª"}),(0,b.jsx)("span",{children:"Log out"})]})})]})}},88729,a=>{"use strict";a.s(["default",()=>f]);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(52068);let f=function(){let a=(0,d.useRouter)(),[f,g]=(0,c.useState)([]),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)({name:"",description:"",price:"",category:"",imageUrl:""}),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)(""),p=(0,c.useCallback)(async()=>{try{let b=localStorage.getItem("token"),c=await fetch("http://localhost:5002/api/restaurant/profile",{headers:{Authorization:`Bearer ${b}`}});if(401===c.status)return void(alert("Your session has expired. Please log in again."),localStorage.removeItem("token"),a.push("/"));let d=await c.json();c.ok&&o(d.name)}catch(a){console.error("Error fetching profile:",a)}},[]),q=(0,c.useCallback)(async()=>{try{let a=localStorage.getItem("token"),b=await fetch("http://localhost:5002/api/food-items/",{headers:{Authorization:`Bearer ${a}`}}),c=await b.json();b.ok&&g(c)}catch(a){console.error("Error fetching food items:",a)}},[]);(0,c.useEffect)(()=>{p(),q()},[p,q]);let r=async()=>{if(!j.name||!j.description||!j.price||!j.category||!j.imageFile)return void alert("Please fill in all fields before adding a food item.");try{let a=localStorage.getItem("token"),b=new FormData;b.append("name",j.name),b.append("description",j.description),b.append("price",j.price),b.append("category",j.category),b.append("image",j.imageFile);let c=await fetch("http://localhost:5002/api/food-items/create",{method:"POST",headers:{Authorization:`Bearer ${a}`},body:b}),d=await c.json();c.ok?(alert("Food item added successfully!"),q(),k({name:"",description:"",price:"",category:"",imageFile:null})):alert(d.message||"Failed to add food item")}catch(a){alert("Error adding food item")}},s=async a=>{if(window.confirm("Are you sure you want to delete this food item?"))try{let b=localStorage.getItem("token"),c=await fetch(`http://localhost:5002/api/food-items/${a}`,{method:"DELETE",headers:{Authorization:`Bearer ${b}`}}),d=await c.json();c.ok?(alert("Food item deleted successfully!"),q()):alert(d.message||"Failed to delete food item")}catch(a){alert("Error deleting food item")}},t=async()=>{if(!l.name||!l.description||!l.price||!l.category)return void alert("Please fill in all fields before updating the food item.");try{let a=localStorage.getItem("token"),b=new FormData;b.append("name",l.name),b.append("description",l.description),b.append("price",l.price),b.append("category",l.category),l.imageFile&&b.append("image",l.imageFile);let c=await fetch(`http://localhost:5002/api/food-items/${l._id}`,{method:"PUT",headers:{Authorization:`Bearer ${a}`},body:b}),d=await c.json();c.ok?(alert("Food item updated successfully!"),q(),m(null)):alert(d.message||"Failed to update food item")}catch(a){alert("Error updating food item")}};return(0,b.jsxs)("div",{className:"dashboard-container",children:[(0,b.jsx)(e.default,{activeKey:"foodItems",userName:n}),(0,b.jsx)("div",{className:"dashboard-content",children:(0,b.jsxs)("div",{className:"section-stack",children:[(0,b.jsxs)("div",{className:"section-card",children:[(0,b.jsxs)("div",{className:"section-header",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{children:"Menu Items"}),(0,b.jsx)("p",{className:"section-subtitle",children:"Manage your dishes, pricing, and categories in one place."})]}),(0,b.jsxs)("span",{className:"tag",children:[f.length," items"]})]}),(0,b.jsx)("div",{className:"section-toolbar",children:(0,b.jsx)("input",{type:"text",placeholder:"Search by food name...",className:"search-input",value:h,onChange:a=>i(a.target.value)})}),(0,b.jsx)("div",{className:"table-wrapper",children:(0,b.jsxs)("table",{className:"data-table",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"Image"}),(0,b.jsx)("th",{children:"Name"}),(0,b.jsx)("th",{children:"Description"}),(0,b.jsx)("th",{children:"Price"}),(0,b.jsx)("th",{children:"Category"}),(0,b.jsx)("th",{children:"Actions"})]})}),(0,b.jsx)("tbody",{children:f.filter(a=>a.name.toLowerCase().includes(h.toLowerCase())).map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:(0,b.jsx)("div",{className:"",children:(0,b.jsx)("img",{src:`http://localhost:5002${a.image}`,alt:a.name})})}),(0,b.jsx)("td",{children:a.name}),(0,b.jsx)("td",{children:a.description}),(0,b.jsx)("td",{children:a.price}),(0,b.jsx)("td",{children:a.category}),(0,b.jsxs)("td",{className:"table-actions",children:[(0,b.jsx)("button",{className:"btn btn-small btn-outline",onClick:()=>m(a),children:"Edit"}),(0,b.jsx)("button",{className:"btn btn-small btn-danger",onClick:()=>s(a._id),children:"Delete"})]})]},a._id))})]})})]}),l&&(0,b.jsxs)("div",{className:"section-card",children:[(0,b.jsxs)("div",{className:"section-header",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{children:"Edit Food Item"}),(0,b.jsxs)("p",{className:"section-subtitle",children:["Update the information for ",l.name,"."]})]}),(0,b.jsx)("button",{className:"btn btn-ghost btn-small",onClick:()=>m(null),children:"Close"})]}),(0,b.jsxs)("form",{className:"form-grid",children:[(0,b.jsx)("input",{type:"text",placeholder:"Name",value:l.name,onChange:a=>m({...l,name:a.target.value})}),(0,b.jsx)("textarea",{placeholder:"Description",value:l.description,onChange:a=>m({...l,description:a.target.value})}),(0,b.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",placeholder:"Price",value:l.price,onChange:a=>{let b=a.target.value.replace(/\D/g,"");m({...l,price:b})}}),(0,b.jsx)("input",{type:"text",placeholder:"Category",value:l.category,onChange:a=>m({...l,category:a.target.value})}),(0,b.jsxs)("div",{className:"form-file",children:[(0,b.jsx)("label",{htmlFor:"foodImage",children:"Food Image"}),(0,b.jsx)("input",{id:"foodImage",type:"file",accept:"image/*",onChange:a=>m({...l,imageFile:a.target.files?.[0]})})]}),(0,b.jsxs)("div",{className:"form-actions",children:[(0,b.jsx)("button",{type:"button",className:"btn btn-primary",onClick:t,children:"Save Changes"}),(0,b.jsx)("button",{type:"button",className:"btn btn-ghost",onClick:()=>m(null),children:"Cancel"})]})]})]}),(0,b.jsxs)("div",{className:"section-card",children:[(0,b.jsx)("div",{className:"section-header",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{children:"Add Food Item"}),(0,b.jsx)("p",{className:"section-subtitle",children:"Upload new dishes to showcase them to customers."})]})}),(0,b.jsxs)("form",{className:"form-grid",children:[(0,b.jsx)("input",{type:"text",placeholder:"Name",value:j.name,onChange:a=>k({...j,name:a.target.value})}),(0,b.jsx)("textarea",{placeholder:"Description",value:j.description,onChange:a=>k({...j,description:a.target.value})}),(0,b.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",placeholder:"Price",value:j.price,onChange:a=>{let b=a.target.value.replace(/\D/g,"");k({...j,price:b})}}),(0,b.jsx)("input",{type:"text",placeholder:"Category",value:j.category,onChange:a=>k({...j,category:a.target.value})}),(0,b.jsxs)("div",{className:"form-file",children:[(0,b.jsx)("label",{htmlFor:"newFoodImage",children:"Food Image"}),(0,b.jsx)("input",{id:"newFoodImage",type:"file",accept:"image/*",onChange:a=>k({...j,imageFile:a.target.files?.[0]})})]}),(0,b.jsx)("div",{className:"form-actions",children:(0,b.jsx)("button",{type:"button",className:"btn btn-primary",onClick:r,children:"Add Food Item"})})]})]})]})})]})}}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5d8fe000._.js.map