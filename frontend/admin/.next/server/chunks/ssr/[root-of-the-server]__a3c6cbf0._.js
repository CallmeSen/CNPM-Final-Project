module.exports=[72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},35112,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactDOM},51234,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"HandleISRError",{enumerable:!0,get:function(){return e}});let d=a.r(56704).workAsyncStorage;function e(a){let{error:b}=a;if(d){let a=d.getStore();if((null==a?void 0:a.isRevalidate)||(null==a?void 0:a.isStaticGeneration))throw console.error(b),b}return null}("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},40622,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"default",{enumerable:!0,get:function(){return g}});let d=a.r(87924),e=a.r(51234),f={error:{fontFamily:'system-ui,"Segoe UI",Roboto,Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji"',height:"100vh",textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},text:{fontSize:"14px",fontWeight:400,lineHeight:"28px",margin:"0 8px"}},g=function(a){let{error:b}=a,c=null==b?void 0:b.digest;return(0,d.jsxs)("html",{id:"__next_error__",children:[(0,d.jsx)("head",{}),(0,d.jsxs)("body",{children:[(0,d.jsx)(e.HandleISRError,{error:b}),(0,d.jsx)("div",{style:f.error,children:(0,d.jsxs)("div",{children:[(0,d.jsxs)("h2",{style:f.text,children:["Application error: a ",c?"server":"client","-side exception has occurred while loading ",window.location.hostname," (see the"," ",c?"server logs":"browser console"," for more information)."]}),c?(0,d.jsx)("p",{style:f.text,children:"Digest: "+c}):null]})})]})]})};("function"==typeof c.default||"object"==typeof c.default&&null!==c.default)&&void 0===c.default.__esModule&&(Object.defineProperty(c.default,"__esModule",{value:!0}),Object.assign(c.default,c),b.exports=c.default)},49846,a=>{"use strict";a.s(["default",()=>i],49846);var b=a.i(87924),c=a.i(83468),d=a.i(72131),e=a.i(21689),f=a.i(71682);let g=({icon:a,label:c,value:d,color:e})=>(0,b.jsxs)("div",{className:"stat-card",children:[(0,b.jsx)("div",{className:"stat-card-icon",style:{backgroundColor:e},children:a}),(0,b.jsxs)("div",{className:"stat-card-info",children:[(0,b.jsx)("p",{children:c}),(0,b.jsx)("h3",{children:d})]})]}),h=function(){let[a,c]=(0,d.useState)(""),[h,i]=(0,d.useState)({totalRestaurants:0,totalOrders:0,totalRevenue:0,totalCustomers:0,pendingOrders:0,completedOrders:0}),[j,k]=(0,d.useState)([]),[l,m]=(0,d.useState)([]),[n,o]=(0,d.useState)(!0);(0,d.useEffect)(()=>{let a=localStorage.getItem("superAdminName");a&&c(a),p()},[]);let p=async()=>{o(!0);try{let a=localStorage.getItem("token"),b=await fetch("http://localhost:5005/api/orders",{headers:{Authorization:`Bearer ${a}`}}),c=await fetch("http://localhost:5002/api/superadmin/restaurants",{headers:{Authorization:`Bearer ${a}`}}),d=[],e=[],f=0,g=0,h=0;if(b.ok){f=(d=await b.json()).reduce((a,b)=>a+(b.totalPrice||0),0),g=d.filter(a=>"Pending"===a.status).length,h=d.filter(a=>"Delivered"===a.status||"Completed"===a.status).length;let a=d.sort((a,b)=>new Date(b.createdAt)-new Date(a.createdAt)).slice(0,5);k(a)}if(c.ok){e=await c.json();let a={},b={};d.forEach(c=>{let d=c.restaurantId;a[d]=(a[d]||0)+1,b[d]=(b[d]||0)+(c.totalPrice||0)});let f=e.map(c=>({name:c.name,orders:a[c._id]||0,revenue:b[c._id]||0})).sort((a,b)=>b.revenue-a.revenue).slice(0,5);m(f)}i({totalRestaurants:e.length,totalOrders:d.length,totalRevenue:f,totalCustomers:new Set(d.map(a=>a.customerId)).size,pendingOrders:g,completedOrders:h})}catch(a){console.error("Error fetching dashboard data:",a)}finally{o(!1)}};return(0,b.jsxs)("div",{className:"dashboard-layout",children:[(0,b.jsx)(e.default,{}),(0,b.jsxs)("main",{className:"main-content",children:[(0,b.jsxs)("div",{className:"dashboard-header",children:[(0,b.jsx)("h1",{children:"Dashboard - BÃ¡o cÃ¡o ToÃ n há»‡ thá»‘ng"}),(0,b.jsx)("div",{className:"user-profile",children:(0,b.jsxs)("strong",{children:["Welcome, ",a," ðŸ‘‹"]})})]}),n?(0,b.jsx)("p",{children:"Äang táº£i dá»¯ liá»‡u..."}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"stats-grid",children:[(0,b.jsx)(g,{icon:(0,b.jsx)(f.FaDollarSign,{}),label:"Tá»•ng Doanh Thu",value:`$${h.totalRevenue.toFixed(2)}`,color:"var(--accent-color)"}),(0,b.jsx)(g,{icon:(0,b.jsx)(f.FaClipboardList,{}),label:"Tá»•ng ÄÆ¡n HÃ ng",value:h.totalOrders,color:"var(--secondary-color)"}),(0,b.jsx)(g,{icon:(0,b.jsx)(f.FaUtensils,{}),label:"Tá»•ng NhÃ  HÃ ng",value:h.totalRestaurants,color:"#f7b731"}),(0,b.jsx)(g,{icon:(0,b.jsx)(f.FaUsers,{}),label:"Tá»•ng KhÃ¡ch HÃ ng",value:h.totalCustomers,color:"#8e44ad"})]}),(0,b.jsxs)("div",{className:"stats-grid-secondary",children:[(0,b.jsx)(g,{icon:(0,b.jsx)(f.FaChartLine,{}),label:"ÄÆ¡n Äang Xá»­ LÃ½",value:h.pendingOrders,color:"var(--warning-color)"}),(0,b.jsx)(g,{icon:(0,b.jsx)(f.FaCheckCircle,{}),label:"ÄÆ¡n HoÃ n ThÃ nh",value:h.completedOrders,color:"var(--success-color)"})]}),(0,b.jsxs)("div",{className:"analysis-section",children:[(0,b.jsxs)("div",{className:"content-area",children:[(0,b.jsx)("h2",{children:"ðŸ† Top 5 NhÃ  HÃ ng Doanh Thu Cao Nháº¥t"}),(0,b.jsxs)("table",{className:"analysis-table",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"NhÃ  HÃ ng"}),(0,b.jsx)("th",{children:"Sá»‘ ÄÆ¡n HÃ ng"}),(0,b.jsx)("th",{children:"Doanh Thu"})]})}),(0,b.jsx)("tbody",{children:l.map((a,c)=>(0,b.jsxs)("tr",{children:[(0,b.jsx)("td",{children:a.name}),(0,b.jsx)("td",{children:a.orders}),(0,b.jsxs)("td",{children:["$",a.revenue.toFixed(2)]})]},c))})]})]}),(0,b.jsxs)("div",{className:"content-area",children:[(0,b.jsx)("h2",{children:"ðŸ“‹ ÄÆ¡n HÃ ng Gáº§n ÄÃ¢y"}),(0,b.jsxs)("table",{className:"analysis-table",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{children:"MÃ£ ÄÆ¡n"}),(0,b.jsx)("th",{children:"Tráº¡ng ThÃ¡i"}),(0,b.jsx)("th",{children:"GiÃ¡ Trá»‹"}),(0,b.jsx)("th",{children:"Thá»i Gian"})]})}),(0,b.jsx)("tbody",{children:j.map(a=>(0,b.jsxs)("tr",{children:[(0,b.jsxs)("td",{children:["#",a._id.slice(-6)]}),(0,b.jsx)("td",{children:(0,b.jsx)("span",{className:`status-badge status-${a.status.toLowerCase()}`,children:a.status})}),(0,b.jsxs)("td",{children:["$",a.totalPrice.toFixed(2)]}),(0,b.jsx)("td",{children:new Date(a.createdAt).toLocaleString()})]},a._id))})]})]})]}),(0,b.jsxs)("div",{className:"content-area insights-section",children:[(0,b.jsx)("h2",{children:"ðŸ“Š PhÃ¢n TÃ­ch & Xu HÆ°á»›ng"}),(0,b.jsxs)("div",{className:"insights-grid",children:[(0,b.jsxs)("div",{className:"insight-card",children:[(0,b.jsx)("h4",{children:"Tá»· Lá»‡ HoÃ n ThÃ nh"}),(0,b.jsxs)("p",{className:"insight-value",children:[h.totalOrders>0?(h.completedOrders/h.totalOrders*100).toFixed(1):0,"%"]}),(0,b.jsx)("span",{className:"insight-description",children:"ÄÆ¡n hÃ ng Ä‘Æ°á»£c hoÃ n thÃ nh thÃ nh cÃ´ng"})]}),(0,b.jsxs)("div",{className:"insight-card",children:[(0,b.jsx)("h4",{children:"Doanh Thu Trung BÃ¬nh/ÄÆ¡n"}),(0,b.jsxs)("p",{className:"insight-value",children:["$",h.totalOrders>0?(h.totalRevenue/h.totalOrders).toFixed(2):0]}),(0,b.jsx)("span",{className:"insight-description",children:"GiÃ¡ trá»‹ trung bÃ¬nh má»—i Ä‘Æ¡n hÃ ng"})]}),(0,b.jsxs)("div",{className:"insight-card",children:[(0,b.jsx)("h4",{children:"ÄÆ¡n/NhÃ  HÃ ng"}),(0,b.jsx)("p",{className:"insight-value",children:h.totalRestaurants>0?(h.totalOrders/h.totalRestaurants).toFixed(1):0}),(0,b.jsx)("span",{className:"insight-description",children:"Sá»‘ Ä‘Æ¡n trung bÃ¬nh má»—i nhÃ  hÃ ng"})]})]})]})]})]})]})},i=()=>(0,b.jsx)(c.default,{children:(0,b.jsx)(h,{})})}];

//# sourceMappingURL=%5Broot-of-the-server%5D__a3c6cbf0._.js.map