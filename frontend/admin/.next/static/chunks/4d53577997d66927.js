(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},18566,(e,t,r)=>{t.exports=e.r(76562)},98183,(e,t,r)=>{"use strict";function s(e){let t={};for(let[r,s]of e.entries()){let e=t[r];void 0===e?t[r]=s:Array.isArray(e)?e.push(s):t[r]=[e,s]}return t}function n(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function a(e){let t=new URLSearchParams;for(let[r,s]of Object.entries(e))if(Array.isArray(s))for(let e of s)t.append(r,n(e));else t.set(r,n(s));return t}function l(e){for(var t=arguments.length,r=Array(t>1?t-1:0),s=1;s<t;s++)r[s-1]=arguments[s];for(let t of r){for(let r of t.keys())e.delete(r);for(let[r,s]of t.entries())e.append(r,s)}return e}Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{assign:function(){return l},searchParamsToUrlQuery:function(){return s},urlQueryToSearchParams:function(){return a}})},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{formatUrl:function(){return a},formatWithValidation:function(){return i},urlObjectKeys:function(){return l}});let s=e.r(90809)._(e.r(98183)),n=/https?|ftp|gopher|file/;function a(e){let{auth:t,hostname:r}=e,a=e.protocol||"",l=e.pathname||"",i=e.hash||"",o=e.query||"",c=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?c=t+e.host:r&&(c=t+(~r.indexOf(":")?"["+r+"]":r),e.port&&(c+=":"+e.port)),o&&"object"==typeof o&&(o=String(s.urlQueryToSearchParams(o)));let u=e.search||o&&"?"+o||"";return a&&!a.endsWith(":")&&(a+=":"),e.slashes||(!a||n.test(a))&&!1!==c?(c="//"+(c||""),l&&"/"!==l[0]&&(l="/"+l)):c||(c=""),i&&"#"!==i[0]&&(i="#"+i),u&&"?"!==u[0]&&(u="?"+u),""+a+c+(l=l.replace(/[?#]/g,encodeURIComponent))+(u=u.replace("#","%23"))+i}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function i(e){return a(e)}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return n}});let s=e.r(71645);function n(e,t){let r=(0,s.useRef)(null),n=(0,s.useRef)(null);return(0,s.useCallback)(s=>{if(null===s){let e=r.current;e&&(r.current=null,e());let t=n.current;t&&(n.current=null,t())}else e&&(r.current=a(e,s)),t&&(n.current=a(t,s))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{DecodeError:function(){return f},MiddlewareNotFoundError:function(){return y},MissingStaticPage:function(){return g},NormalizeError:function(){return j},PageNotFoundError:function(){return x},SP:function(){return h},ST:function(){return p},WEB_VITALS:function(){return s},execOnce:function(){return n},getDisplayName:function(){return c},getLocationOrigin:function(){return i},getURL:function(){return o},isAbsoluteUrl:function(){return l},isResSent:function(){return u},loadGetInitialProps:function(){return m},normalizeRepeatedSlashes:function(){return d},stringifyError:function(){return b}});let s=["CLS","FCP","FID","INP","LCP","TTFB"];function n(e){let t,r=!1;return function(){for(var s=arguments.length,n=Array(s),a=0;a<s;a++)n[a]=arguments[a];return r||(r=!0,t=e(...n)),t}}let a=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>a.test(e);function i(){let{protocol:e,hostname:t,port:r}=window.location;return e+"//"+t+(r?":"+r:"")}function o(){let{href:e}=window.location,t=i();return e.substring(t.length)}function c(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function u(e){return e.finished||e.headersSent}function d(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?"?"+t.slice(1).join("?"):"")}async function m(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await m(t.Component,t.ctx)}:{};let s=await e.getInitialProps(t);if(r&&u(r))return s;if(!s)throw Object.defineProperty(Error('"'+c(e)+'.getInitialProps()" should resolve to an object. But found "'+s+'" instead.'),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return s}let h="undefined"!=typeof performance,p=h&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class f extends Error{}class j extends Error{}class x extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message="Cannot find module for page: "+e}}class g extends Error{constructor(e,t){super(),this.message="Failed to load static file for page: "+e+" "+t}}class y extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function b(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return a}});let s=e.r(18967),n=e.r(52817);function a(e){if(!(0,s.isAbsoluteUrl)(e))return!0;try{let t=(0,s.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,n.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return s}});let s=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{default:function(){return j},useLinkStatus:function(){return g}});let s=e.r(90809),n=e.r(43476),a=s._(e.r(71645)),l=e.r(95057),i=e.r(8372),o=e.r(18581),c=e.r(18967),u=e.r(5550);e.r(33525);let d=e.r(91949),m=e.r(73668),h=e.r(99781);e.r(84508);let p=e.r(65165);function f(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function j(e){var t;let r,s,l,[j,g]=(0,a.useOptimistic)(d.IDLE_LINK_STATUS),y=(0,a.useRef)(null),{href:b,as:v,children:N,prefetch:C=null,passHref:P,replace:S,shallow:k,scroll:w,onClick:T,onMouseEnter:A,onTouchStart:E,legacyBehavior:O=!1,onNavigate:_,ref:L,unstable_dynamicOnHover:I,...R}=e;r=N,O&&("string"==typeof r||"number"==typeof r)&&(r=(0,n.jsx)("a",{children:r}));let U=a.default.useContext(i.AppRouterContext),M=!1!==C,F=!1!==C?null===(t=C)||"auto"===t?p.FetchStrategy.PPR:p.FetchStrategy.Full:p.FetchStrategy.PPR,{href:D,as:B}=a.default.useMemo(()=>{let e=f(b);return{href:e,as:v?f(v):e}},[b,v]);O&&(s=a.default.Children.only(r));let q=O?s&&"object"==typeof s&&s.ref:L,z=a.default.useCallback(e=>(null!==U&&(y.current=(0,d.mountLinkInstance)(e,D,U,F,M,g)),()=>{y.current&&((0,d.unmountLinkForCurrentNavigation)(y.current),y.current=null),(0,d.unmountPrefetchableInstance)(e)}),[M,D,U,F,g]),K={ref:(0,o.useMergedRef)(z,q),onClick(e){O||"function"!=typeof T||T(e),O&&s.props&&"function"==typeof s.props.onClick&&s.props.onClick(e),U&&(e.defaultPrevented||function(e,t,r,s,n,l,i){let{nodeName:o}=e.currentTarget;if(!("A"===o.toUpperCase()&&function(e){let t=e.currentTarget.getAttribute("target");return t&&"_self"!==t||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)||e.currentTarget.hasAttribute("download"))){if(!(0,m.isLocalURL)(t)){n&&(e.preventDefault(),location.replace(t));return}if(e.preventDefault(),i){let e=!1;if(i({preventDefault:()=>{e=!0}}),e)return}a.default.startTransition(()=>{(0,h.dispatchNavigateAction)(r||t,n?"replace":"push",null==l||l,s.current)})}}(e,D,B,y,S,w,_))},onMouseEnter(e){O||"function"!=typeof A||A(e),O&&s.props&&"function"==typeof s.props.onMouseEnter&&s.props.onMouseEnter(e),U&&M&&(0,d.onNavigationIntent)(e.currentTarget,!0===I)},onTouchStart:function(e){O||"function"!=typeof E||E(e),O&&s.props&&"function"==typeof s.props.onTouchStart&&s.props.onTouchStart(e),U&&M&&(0,d.onNavigationIntent)(e.currentTarget,!0===I)}};return(0,c.isAbsoluteUrl)(B)?K.href=B:O&&!P&&("a"!==s.type||"href"in s.props)||(K.href=(0,u.addBasePath)(B)),l=O?a.default.cloneElement(s,K):(0,n.jsx)("a",{...R,...K,children:r}),(0,n.jsx)(x.Provider,{value:j,children:l})}let x=(0,a.createContext)(d.IDLE_LINK_STATUS),g=()=>(0,a.useContext)(x);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},74643,e=>{"use strict";e.s(["NavLink",()=>l,"useNavigate",()=>a]);var t=e.i(43476),r=e.i(22016),s=e.i(71645),n=e.i(18566);let a=()=>{let e=(0,n.useRouter)();return(0,s.useCallback)((t,r)=>{(null==r?void 0:r.replace)?e.replace(t,{scroll:r.scroll}):e.push(t,{scroll:null==r?void 0:r.scroll})},[e])},l=e=>{let{to:s,className:a,children:l,...i}=e,o=(0,n.usePathname)()===s,c="function"==typeof a?a({isActive:o}):a,u="function"==typeof l?l({isActive:o}):l;return(0,t.jsx)(r.default,{href:s,className:c,...i,children:u})}},49196,e=>{"use strict";e.s(["default",()=>i],49196);var t=e.i(43476),r=e.i(90914),s=e.i(71645),n=e.i(71676),a=e.i(11152);let l=function(){let[e,r]=(0,s.useState)([]),[l,i]=(0,s.useState)([]),[o,c]=(0,s.useState)("all"),[u,d]=(0,s.useState)(""),[m,h]=(0,s.useState)(""),[p,f]=(0,s.useState)(!0),[j,x]=(0,s.useState)(""),[g,y]=(0,s.useState)(!1),[b,v]=(0,s.useState)(!1),[N,C]=(0,s.useState)(!1),[P,S]=(0,s.useState)(!1),[k,w]=(0,s.useState)(null),[T,A]=(0,s.useState)([]),[E,O]=(0,s.useState)({}),[_,L]=(0,s.useState)({userType:"customer",firstName:"",lastName:"",email:"",phone:"",password:"",role:"admin",permissions:[],restaurantId:""}),I=["manage-users","manage-restaurants","manage-orders","view-reports","manage-payments"];(0,s.useEffect)(()=>{let e=localStorage.getItem("superAdminName");e&&x(e),R()},[]),(0,s.useEffect)(()=>{let t=e;"all"!==o&&(t=t.filter(e=>e.userType===o)),u&&(t=t.filter(e=>"".concat(e.firstName," ").concat(e.lastName).toLowerCase().includes(u.toLowerCase())||e.email.toLowerCase().includes(u.toLowerCase()))),i(t)},[e,o,u]);let R=async()=>{f(!0);try{let e=localStorage.getItem("token"),t=await fetch("http://localhost:5001/api/management/users",{headers:{Authorization:"Bearer ".concat(e)}});if(t.ok){let e=await t.json();r(e)}else{let e=await t.json();h(e.message||"Failed to fetch users")}}catch(e){h("Server error while fetching users"),console.error(e)}finally{f(!1)}},U=e=>{let{name:t,value:r}=e.target;L({..._,[t]:r})},M=e=>{let t=_.permissions.includes(e)?_.permissions.filter(t=>t!==e):[..._.permissions,e];L({..._,permissions:t})},F=async e=>{if(e.preventDefault(),_.password.length<6){O({password:"Máº­t kháº©u pháº£i cÃ³ Ã­t nháº¥t 6 kÃ½ tá»±"}),alert("Máº­t kháº©u pháº£i cÃ³ Ã­t nháº¥t 6 kÃ½ tá»±");return}O({});try{let e=localStorage.getItem("token"),t=await fetch("http://localhost:5001/api/management/users",{method:"POST",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(_)}),r=await t.json();t.ok?(alert(r.message),y(!1),K(),R()):alert(r.message||"Failed to create user")}catch(e){alert("Server error during user creation"),console.error(e)}},D=async e=>{if(e.preventDefault(),_.password&&_.password.length<6){O({password:"Máº­t kháº©u pháº£i cÃ³ Ã­t nháº¥t 6 kÃ½ tá»±"}),alert("Máº­t kháº©u pháº£i cÃ³ Ã­t nháº¥t 6 kÃ½ tá»±");return}O({});try{let e=localStorage.getItem("token"),t=await fetch("http://localhost:5001/api/management/users/".concat(k._id),{method:"PUT",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify(_)}),r=await t.json();t.ok?(alert(r.message),v(!1),K(),R()):alert(r.message||"Failed to update user")}catch(e){alert("Server error during user update"),console.error(e)}},B=async e=>{if(window.confirm("Are you sure you want to delete ".concat(e.firstName," ").concat(e.lastName,"?")))try{let t=localStorage.getItem("token"),r=await fetch("http://localhost:5001/api/management/users/".concat(e._id,"?userType=").concat(e.userType),{method:"DELETE",headers:{Authorization:"Bearer ".concat(t)}}),s=await r.json();r.ok?(alert(s.message),R()):alert(s.message||"Failed to delete user")}catch(e){alert("Server error during deletion"),console.error(e)}},q=async e=>{w(e),C(!0);try{let t=localStorage.getItem("token"),r=await fetch("http://localhost:5001/api/management/users/".concat(e._id,"/logs"),{headers:{Authorization:"Bearer ".concat(t)}});if(r.ok){let e=await r.json();A(e)}}catch(e){console.error("Error fetching logs:",e)}},z=async()=>{try{let e=localStorage.getItem("token"),t=await fetch("http://localhost:5001/api/management/users/".concat(k._id,"/permissions"),{method:"PATCH",headers:{Authorization:"Bearer ".concat(e),"Content-Type":"application/json"},body:JSON.stringify({permissions:_.permissions})}),r=await t.json();t.ok?(alert(r.message),S(!1),R()):alert(r.message||"Failed to update permissions")}catch(e){alert("Server error during permissions update"),console.error(e)}},K=()=>{L({userType:"customer",firstName:"",lastName:"",email:"",phone:"",password:"",role:"admin",permissions:[],restaurantId:""}),w(null)};return(0,t.jsxs)("div",{className:"dashboard-layout",children:[(0,t.jsx)(n.default,{}),(0,t.jsxs)("main",{className:"main-content",children:[(0,t.jsxs)("div",{className:"dashboard-header",children:[(0,t.jsx)("h1",{children:"User Management"}),(0,t.jsx)("div",{className:"user-profile",children:(0,t.jsxs)("strong",{children:["Welcome, ",j," ðŸ‘‹"]})})]}),(0,t.jsxs)("div",{className:"content-area",children:[(0,t.jsxs)("div",{className:"page-header",children:[(0,t.jsx)("h2",{children:"ðŸ‘¥ Manage Users"}),(0,t.jsxs)("button",{className:"btn btn-primary",onClick:()=>y(!0),children:[(0,t.jsx)(a.FaPlus,{})," Add New User"]})]}),(0,t.jsxs)("div",{className:"filters-section",children:[(0,t.jsxs)("div",{className:"filter-group",children:[(0,t.jsx)("label",{children:"Filter by Type:"}),(0,t.jsxs)("select",{value:o,onChange:e=>c(e.target.value),className:"filter-select",children:[(0,t.jsx)("option",{value:"all",children:"All Users"}),(0,t.jsx)("option",{value:"customer",children:"Customers"}),(0,t.jsx)("option",{value:"restaurant",children:"Restaurants"}),(0,t.jsx)("option",{value:"admin",children:"Admins"}),(0,t.jsx)("option",{value:"delivery",children:"Delivery Personnel"})]})]}),(0,t.jsx)("div",{className:"search-container",children:(0,t.jsx)("input",{type:"text",placeholder:"Search by name or email...",value:u,onChange:e=>d(e.target.value),className:"search-input"})})]}),m&&(0,t.jsx)("p",{className:"error",children:m}),p?(0,t.jsx)("p",{children:"Loading users..."}):(0,t.jsxs)("div",{className:"table-wrapper",children:[(0,t.jsxs)("table",{children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Type"}),(0,t.jsx)("th",{children:"Name"}),(0,t.jsx)("th",{children:"Email"}),(0,t.jsx)("th",{children:"Phone"}),(0,t.jsx)("th",{children:"Role/Permissions"}),(0,t.jsx)("th",{children:"Actions"})]})}),(0,t.jsx)("tbody",{children:l.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{children:(e=>{let r={customer:{color:"#3498db",label:"Customer"},admin:{color:"#e74c3c",label:"Admin"},restaurant:{color:"#f39c12",label:"Restaurant"},delivery:{color:"#27ae60",label:"Delivery"}}[e]||{color:"#95a5a6",label:e};return(0,t.jsx)("span",{className:"user-type-badge",style:{backgroundColor:r.color},children:r.label})})(e.userType)}),(0,t.jsxs)("td",{children:[e.firstName," ",e.lastName]}),(0,t.jsx)("td",{children:e.email}),(0,t.jsx)("td",{children:e.phone}),(0,t.jsxs)("td",{children:["admin"===e.userType&&(0,t.jsxs)("div",{className:"permissions-preview",children:[(0,t.jsx)("span",{className:"role-badge",children:e.role}),e.permissions&&e.permissions.length>0&&(0,t.jsxs)("span",{className:"permissions-count",children:[e.permissions.length," permissions"]})]}),"admin"!==e.userType&&(0,t.jsx)("span",{className:"text-muted",children:"N/A"})]}),(0,t.jsxs)("td",{className:"action-buttons",children:[(0,t.jsx)("button",{className:"btn-icon edit",onClick:()=>{w(e),L({userType:e.userType,firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,password:"",role:e.role||"admin",permissions:e.permissions||[],restaurantId:e.restaurantId||""}),v(!0)},title:"Edit",children:(0,t.jsx)(a.FaEdit,{})}),"admin"===e.userType&&(0,t.jsx)("button",{className:"btn-icon permissions",onClick:()=>(e=>{if("admin"!==e.userType)return void alert("Only admin users have permissions");w(e),L({..._,permissions:e.permissions||[]}),S(!0)})(e),title:"Manage Permissions",children:(0,t.jsx)(a.FaUserShield,{})}),(0,t.jsx)("button",{className:"btn-icon logs",onClick:()=>q(e),title:"View Activity Logs",children:(0,t.jsx)(a.FaHistory,{})}),(0,t.jsx)("button",{className:"btn-icon delete",onClick:()=>B(e),title:"Delete",children:(0,t.jsx)(a.FaTrash,{})})]})]},"".concat(e.userType,"-").concat(e._id)))})]}),0===l.length&&(0,t.jsx)("p",{className:"no-data",children:"No users found matching your criteria."})]})]}),g&&(0,t.jsx)("div",{className:"modal-overlay",onClick:()=>y(!1),children:(0,t.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("h3",{children:"Create New User"}),(0,t.jsxs)("form",{onSubmit:F,children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"User Type *"}),(0,t.jsxs)("select",{name:"userType",value:_.userType,onChange:U,required:!0,children:[(0,t.jsx)("option",{value:"customer",children:"Customer"}),(0,t.jsx)("option",{value:"restaurant",children:"Restaurant Admin"}),(0,t.jsx)("option",{value:"admin",children:"Admin"}),(0,t.jsx)("option",{value:"delivery",children:"Delivery Personnel"})]})]}),(0,t.jsxs)("div",{className:"form-row",children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"First Name *"}),(0,t.jsx)("input",{type:"text",name:"firstName",value:_.firstName,onChange:U,required:!0})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Last Name *"}),(0,t.jsx)("input",{type:"text",name:"lastName",value:_.lastName,onChange:U,required:!0})]})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Email *"}),(0,t.jsx)("input",{type:"email",name:"email",value:_.email,onChange:U,required:!0})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Phone *"}),(0,t.jsx)("input",{type:"tel",name:"phone",value:_.phone,onChange:U,required:!0})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Password *"}),(0,t.jsx)("input",{type:"password",name:"password",value:_.password,onChange:U,required:!0,minLength:6,placeholder:"Ãt nháº¥t 6 kÃ½ tá»±"}),E.password&&(0,t.jsx)("small",{style:{color:"red",display:"block",marginTop:"4px"},children:E.password})]}),"admin"===_.userType&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Admin Role *"}),(0,t.jsxs)("select",{name:"role",value:_.role,onChange:U,children:[(0,t.jsx)("option",{value:"admin",children:"Admin"}),(0,t.jsx)("option",{value:"super-admin",children:"Super Admin"})]})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Permissions"}),(0,t.jsx)("div",{className:"permissions-checkboxes",children:I.map(e=>(0,t.jsxs)("label",{className:"checkbox-label",children:[(0,t.jsx)("input",{type:"checkbox",checked:_.permissions.includes(e),onChange:()=>M(e)}),e]},e))})]})]}),"restaurant"===_.userType&&(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Restaurant ID"}),(0,t.jsx)("input",{type:"text",name:"restaurantId",value:_.restaurantId,onChange:U})]}),(0,t.jsxs)("div",{className:"form-actions",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{y(!1),K()},className:"btn btn-secondary",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Create User"})]})]})]})}),b&&(0,t.jsx)("div",{className:"modal-overlay",onClick:()=>v(!1),children:(0,t.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("h3",{children:"Edit User"}),(0,t.jsxs)("form",{onSubmit:D,children:[(0,t.jsxs)("div",{className:"form-row",children:[(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"First Name *"}),(0,t.jsx)("input",{type:"text",name:"firstName",value:_.firstName,onChange:U,required:!0})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Last Name *"}),(0,t.jsx)("input",{type:"text",name:"lastName",value:_.lastName,onChange:U,required:!0})]})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Email *"}),(0,t.jsx)("input",{type:"email",name:"email",value:_.email,onChange:U,required:!0})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Phone *"}),(0,t.jsx)("input",{type:"tel",name:"phone",value:_.phone,onChange:U,required:!0})]}),(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Password (leave empty to keep current)"}),(0,t.jsx)("input",{type:"password",name:"password",value:_.password,onChange:U,placeholder:"Ãt nháº¥t 6 kÃ½ tá»± hoáº·c Ä‘á»ƒ trá»‘ng",minLength:6}),E.password&&(0,t.jsx)("small",{style:{color:"red",display:"block",marginTop:"4px"},children:E.password})]}),"admin"===_.userType&&(0,t.jsxs)("div",{className:"form-group",children:[(0,t.jsx)("label",{children:"Admin Role *"}),(0,t.jsxs)("select",{name:"role",value:_.role,onChange:U,children:[(0,t.jsx)("option",{value:"admin",children:"Admin"}),(0,t.jsx)("option",{value:"super-admin",children:"Super Admin"})]})]}),(0,t.jsxs)("div",{className:"form-actions",children:[(0,t.jsx)("button",{type:"button",onClick:()=>{v(!1),K()},className:"btn btn-secondary",children:"Cancel"}),(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save Changes"})]})]})]})}),P&&k&&(0,t.jsx)("div",{className:"modal-overlay",onClick:()=>S(!1),children:(0,t.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("h3",{children:["Manage Permissions - ",k.firstName," ",k.lastName]}),(0,t.jsxs)("div",{className:"permissions-manager",children:[(0,t.jsx)("p",{className:"help-text",children:"Select the permissions you want to grant to this admin:"}),(0,t.jsx)("div",{className:"permissions-checkboxes",children:I.map(e=>(0,t.jsxs)("label",{className:"checkbox-label",children:[(0,t.jsx)("input",{type:"checkbox",checked:_.permissions.includes(e),onChange:()=>M(e)}),(0,t.jsx)("span",{children:e})]},e))})]}),(0,t.jsxs)("div",{className:"form-actions",children:[(0,t.jsx)("button",{onClick:()=>S(!1),className:"btn btn-secondary",children:"Cancel"}),(0,t.jsx)("button",{onClick:z,className:"btn btn-primary",children:"Update Permissions"})]})]})}),N&&k&&(0,t.jsx)("div",{className:"modal-overlay",onClick:()=>C(!1),children:(0,t.jsxs)("div",{className:"modal-content logs-modal",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("h3",{children:["Activity Logs - ",k.firstName," ",k.lastName]}),(0,t.jsx)("div",{className:"logs-container",children:0===T.length?(0,t.jsx)("p",{className:"no-data",children:"No activity logs available."}):(0,t.jsxs)("table",{className:"logs-table",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{children:"Action"}),(0,t.jsx)("th",{children:"Timestamp"}),(0,t.jsx)("th",{children:"IP Address"}),(0,t.jsx)("th",{children:"Status"})]})}),(0,t.jsx)("tbody",{children:T.map(e=>(0,t.jsxs)("tr",{className:e.suspicious?"suspicious-activity":"",children:[(0,t.jsxs)("td",{children:[e.action,e.suspicious&&(0,t.jsx)(a.FaExclamationTriangle,{className:"warning-icon"})]}),(0,t.jsx)("td",{children:new Date(e.timestamp).toLocaleString()}),(0,t.jsx)("td",{children:e.ipAddress}),(0,t.jsx)("td",{children:(0,t.jsx)("span",{className:"status-badge status-".concat(e.status),children:e.status})})]},e.id))})]})}),(0,t.jsx)("div",{className:"form-actions",children:(0,t.jsx)("button",{onClick:()=>C(!1),className:"btn btn-primary",children:"Close"})})]})})]})]})},i=()=>(0,t.jsx)(r.default,{children:(0,t.jsx)(l,{})})}]);